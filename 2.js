var _0x6392 = ["", "html", "#left", "lastTimePress", "getTime", "floor", "setTime", "paperio_topscore", "get", "paper2", "paper2_results", "win", "time", "0", "newBest", "best", "score", "kills", "set", "empty", "#game_over", "fadeIn", "delay", "hide", ".main2", "appendTo", "<div class=\"gameover\"></div>", "<div class=\"go_sc\">YOUR SCORE:</div>", "<div class=\"da_sc\">", "toFixed", "%</div>", "<div class=\"go_bs\"><span>NEW </span>BEST SCORE:</div>", "<div class=\"go_bs\">BEST SCORE:</div>", "<div class=\"da_bs\">", "<div class=\"go_pt\">TIME PLAYED:</div>", "<div class=\"da_pt\">", ":", "</div>", "<div class=\"go_pk\">PLAYERS KILLED:</div>", "<div class=\"da_pk\">", "show", ".animiescontainer", "random", "val", "#nickname", "paperio7.com_", "onclick", "puanKaydet(\'", "\',\'", "\')", "attr", ".saveScore", ".playAgain", ".changeMode", ".play", ".loader", "disabled", "addClass", ".mode", ".noConnectBtn", ".noConnectText", "host", "location", "paperio7.com", "undefined", "server error!", ".main", "start", "setTimeout", "zoom", "style", "body", "addWidth", "clientWidth", "obstaclesOn", "#right", "#bottom", "#share", "#links", "#cpmstar_anchor", "zIndex", "left", "0px", "right", "display", "none", "each", "div", "keyup", "keyCode", ":visible", "is", "click", "trigger", ".playButon", "on", "reload", "blocks", "width", "#paperio", "height", "css", "#paperio #outer_grid", "#paperio #grid", "ready", "resize", ".grow", "devicePixelRatio", "normal", "ffa", "speed", "jet", ".selectedServer", "game_speed", "use strict", "function", "symbol", "iterator", "constructor", "prototype", "Cannot call a class as a function", "length", "enumerable", "configurable", "value", "writable", "key", "defineProperty", "Super expression must either be null or a function", "create", "setPrototypeOf", "getPrototypeOf", "__proto__", "this hasn\'t been initialised - super() hasn\'t been called", "object", "isArray", "done", "next", "push", "return", "Invalid attempt to destructure non-iterable instance", "[object Arguments]", "call", "toString", "from", "Invalid attempt to spread non-iterable instance", "pow", "abs", "min", "max", "bind", "now", "PI", "cos", "sin", "h", "s", "v", "round", "concat", "forEach", "#", "cell", "segments", "x", "y", "commit", "indexOf", "space", "remove", "splice", "add", "sub", "mul", "mulScalar", "magnitude", "sqrt", "normalize", "clone", "copy", "distance", "distance2", "dot", "rotate", "angle", "atan2", "invert", "equal", "points", "center", "size", "w", "ceil", "cells", "count", "getCell", "checkPoint", "find", "segmentsCount", "id", "intersections", "end", "mark", "intersect", "shape", "calc", "vector", "a", "b", "c", "reverse", "zn", "sign", "has", "owner", "updateBounds", "insert", "findIndex", "hasPoint", "some", "findSegment", "apply", "unsplice", "map", "sort", "inside", "rawSquare", "square", "calcPath", "moveTo", "lineTo", "closePath", "path", "bounds", "innerWidth", "innerHeight", "radius", "polygon", "overlay", "filter", "text", "color", "unit", "position", "velocity", "duration", "fading", "update", "draw", "fillStyle", "font", "px Nunito", "bold ", "textAlign", "textBaseline", "middle", "fillText", "acceleration", "scale", "vscale", "rotation", "save", "translate", "fill", "restore", "up", "down", "modifiers", "mouse", "lastMouse", "buttons", "keyboardModeSwitch", "preventDefault", "contextmenu", "addEventListener", "onKeyChange", "keydown", "onMouseChange", "pageX", "pageY", "mouseenter", "mousemove", "mouseleave", "mousedown", "mouseup", "changedTouches", "clientX", "clientY", "touchstart", "touchmove", "touchend", "touchcancel", "dispose", "removeEventListener", "pressed", "target", "switch", "shift", "shiftKey", "ctrl", "ctrlKey", "alt", "altKey", "meta", "metaKey", "button", "trackWidth", "polyline", "lineWidth", "strokeStyle", "stroke", "arc", "image", "naturalWidth", "naturalHeight", "avatar", "skin", "baseHeight", "level", "direction", "billboard", "pivot", "drawImage", "merges", "calcSquare", "handleIntersect", "handleSelfIntersect", "handleEnemyIntersect", "point", "segment", "in", "track", "handleReturn", "assign", "top", "bottom", "isTrack", "kill", "states", "state", "payload", "context", "change", "leave", "enter", "cut", "exit", "game", "border", "base", "exitPoint", "capture", "idle", "unitSpeed", "minDistance", "values", "log", "Ð¡ÐµÐ³Ð¼ÐµÐ½Ñ‚ Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½. Ð‘Ð°Ð³ Ð² Ð³Ñ€ÑÐ·Ð½Ð¾Ð¼ Ñ…Ð°ÐºÐµ!!!", "targets", "returnPoint", "back", "units", "name", "lastSquare", "respawn", "statistics", "movement", "fsm", "minScale", "maxScale", "controller", "skinManager", "nameManager", "maxUnits", "view", "player", "keyboard", "fakeMouse", "labels", "gameOverCallback", "actived", "needSuspendSpawn", "suspendSpawn", "generateParticles", "particles", "stats", "timings", "addPlayer", "addUnit", "getspawnPosition", "baseRadius", "spawnBot", "spawnTimeout", "pool", "baseCount", "request", "spawnPlayer", "startTime", "genKillParticles", "colors", "gameOver", "canvas", "createElement", "2d", "getContext", "pattern", "main", "image/png", "toDataURL", "death", "release", "Kill", "getMovement", "updateStartTime", "mode2", "aiStartTime", "aiEndTime", "Ð‘Ñ‹Ð²Ð°ÐµÑ‚ Ð»Ð¸ Ñ‚Ð°ÐºÐ¾Ðµ?", "slice", "%", "+", "spawnStartTime", "spawnEndTime", "updateEndTime", "render", "renderStartTime", "resetTransform", "clearRect", "lineCap", "globalCompositeOperation", "destination-out", "destination-over", "clip", "source-over", "topLayers", "nick", "bottomLayers", "globalAlpha", "#e7fff4", "#88a799", "#2d6998", "addColorStop", "createLinearGradient", "#51d7dd", "#81faff", "fillRect", "lineJoin", "butt", "#ffff00", "#ff8800", "beginPath", "quadraticCurveTo", "#00000011", "% ", "â€” ", "#00000022", "#00000088", "#58c921", "#fff", "ðŸ† ", "#ffae13", "â˜ ï¸ ", "renderEndTime", "fps", "ut", "ait", "st", "rt", "checkSegments", "keys", "pop", "index", "startT", "endT", "startPoint", "endPoint", "black", "http://www.w3.org/2000/svg", "svg", "createElementNS", "onload", "repeat", "createPattern", "createSVGMatrix", "setTransform", "src", "url", "layers", "available", "used", "default", "Ð—Ð°Ð¿Ð°Ñ ÑÐºÐ¸Ð½Ð¾Ð² Ð¸ÑÑ‡ÐµÑ€Ð¿Ð°Ð½", "requested", "callback", "prepare", "paper2.php", "POST", "names", "ajax", "paper2_keyboard_mode2", "true", "paper3_best", "game_is_over_main", "100%", "absolute", "50%", "transform", "translate(-50%, -50%)", "appendChild", "skins/skins.json", "GET", "skins/", "prepareCounter", "block", "myNick", "mySkin"];
$('#left')['html']('');
var gamemode = '';
window.lastTimePress = new Date();

function timePressCheck() {
    let _0x2fcax3 = new Date();
    let _0x2fcax4 = Math.floor((_0x2fcax3.getTime() - window.lastTimePress.getTime()));
    return (_0x2fcax4 >= (140 * 100 / game_speed))
}

function timePressSet() {
    let _0x2fcax3 = new Date();
    window.lastTimePress.setTime(_0x2fcax3.getTime())
}
ts = +Cookies.get('paperio_topscore');
if (isNaN(ts)) {
    ts = 0
};
var myScore = 0;
var top_sco_re = ts;
var my_sco_re = 0;
var game_timer = 0;
var game_timer_c = 0;
var killed_other = 0;
var killed_total = 0;
var grid_width = 90;
var grid_height = 70;
var game_timer_0 = +new Date();

function game_is_over_main() {
    if (game_mode == 'paper2') {
        var _0x2fcax11 = window.paper2_results;
        window.paper2_results.win;
        playtime = _0x2fcax11.time / 1000;
        playtime_m = Math.floor(playtime / 60);
        if (playtime_m < 10) {
            playtime_m = '0' + playtime_m
        };
        playtime_s = Math.floor(playtime - playtime_m * 60);
        if (playtime_s < 10) {
            playtime_s = '0' + playtime_s
        };
        new_top = _0x2fcax11.newBest;
        top_sco_re = _0x2fcax11.best;
        my_sco_re = _0x2fcax11.score;
        killed_other = _0x2fcax11.kills
    } else {
        game_timer_2 = +new Date();
        playtime = Math.floor((game_timer_2 - game_timer) / 1000);
        playtime_m = Math.floor(playtime / 60);
        if (playtime_m < 10) {
            playtime_m = '0' + playtime_m
        };
        playtime_s = Math.floor(playtime - playtime_m * 60);
        if (playtime_s < 10) {
            playtime_s = '0' + playtime_s
        };
        if (my_sco_re > top_sco_re) {
            top_sco_re = my_sco_re;
            new_top = true
        } else {
            new_top = false
        };
        Cookies.set('paperio_topscore', top_sco_re, {
            expires: 30
        })
    };
    $('#game_over')['empty']();
    $('.main2')['hide']()['delay'](500)['fadeIn'](4000);
    $('<div class="gameover"></div>')['appendTo']('#game_over');
    $('<div class="go_sc">YOUR SCORE:</div>')['appendTo']('#game_over')['hide']()['delay'](1000)['fadeIn'](1000);
    $('<div class="da_sc">' + my_sco_re.toFixed(2) + '%</div>')['appendTo']('#game_over')['hide']()['delay'](1000)['fadeIn'](1000);
    if (new_top) {
        $('<div class="go_bs"><span>NEW </span>BEST SCORE:</div>')['appendTo']('#game_over')['hide']()['delay'](1500)['fadeIn'](1000)
    } else {
        $('<div class="go_bs">BEST SCORE:</div>')['appendTo']('#game_over')['hide']()['delay'](1500)['fadeIn'](1000)
    };
    $('<div class="da_bs">' + top_sco_re.toFixed(2) + '%</div>')['appendTo']('#game_over')['hide']()['delay'](1500)['fadeIn'](1000);
    $('<div class="go_pt">TIME PLAYED:</div>')['appendTo']('#game_over')['hide']()['delay'](2000)['fadeIn'](1000);
    $('<div class="da_pt">' + playtime_m + ':' + playtime_s + '</div>')['appendTo']('#game_over')['hide']()['delay'](2000)['fadeIn'](1000);
    $('<div class="go_pk">PLAYERS KILLED:</div>')['appendTo']('#game_over')['hide']()['delay'](2500)['fadeIn'](1000);
    $('<div class="da_pk">' + killed_other + '</div>')['appendTo']('#game_over')['hide']()['delay'](2500)['fadeIn'](1000);
    $('#game_over')['show']();
    $('.animiescontainer')['show']();
    var _0x2fcax12 = killed_other;
    if (_0x2fcax12 == 0) {
        _0x2fcax12 = 1
    };
    myScore = my_sco_re;
    var _0x2fcax13 = Math.floor(Math.random() * (500 - 1) + 1);
    var _0x2fcax14 = myScore.toFixed(2) * _0x2fcax12 * (15000 / playtime.toFixed(0));
    var _0x2fcax15 = $('#nickname')['val']();
    if (_0x2fcax15 == '') {
        _0x2fcax15 = 'paperio7.com_' + _0x2fcax13
    };
    $('.saveScore')['attr']('onclick', 'puanKaydet(\x27' + _0x2fcax15 + '\x27,\x27' + _0x2fcax14.toFixed(2) + '\x27,\x27' + playtime_m + ':' + playtime_s + '\x27,\x27' + killed_other + '\x27,\x27' + myScore.toFixed(2) + '\x27)');
    $('.saveScore')['hide']()['delay'](3000)['fadeIn'](1000);
    $('.playAgain')['hide']()['delay'](3000)['fadeIn'](1000);
    $('.changeMode')['hide']()['delay'](3000)['fadeIn'](1000);
    geberikos();
}
var newgame_loaded = null;

function showLoad() {
    $('.play')['hide']();
    $('.loader')['show']();
    $('.mode')['addClass']('disabled');
    setTimeout(showResetUI, 10 * 1000)
}

function showResetUI() {
    $('.noConnectBtn')['show']();
    $('.noConnectText')['show']()
}

function game_start(_0x2fcax1a) {
    $('.animiescontainer')['hide']();
    if (newgame_loaded === false) {
        return
    };
    newgame_loaded = true;
    modesReady = true;
    if (typeof afg_do !== 'undefined') {
        afg_do()
    } else {
        game_starter()
    }
}

function game_starter(_0x2fcax1c = false) {
    if (game_mode == 'paper2') {
        if (window.paper2) {
            $('.main')['hide']();
            $('.main2')['hide']();
            $('#game_over')['hide']();
            window.paper2.start()
        } else {
            window.setTimeout(game_starter, 100)
        };
        return
    };
    if (!newgame_loaded || !modesReady) {
        window.setTimeout(game_starter, 100);
        return
    };
    newgame_loaded = null;
    var _0x2fcax1d = parseFloat(document.body.style.zoom);
    window.addWidth = document.body.clientWidth * 0.5 * _0x2fcax1d - document.body.clientWidth * 0.5;;;
    if (window.obstaclesOn === true) {
        obstaclesMake()
    };
    grid_scale = 1;
    prev_scale = 1;
    $('#left')['hide']();
    $('#right')['hide']();
    $('#bottom')['hide']();
    $('#share')['hide']();
    $('#links')['hide']();
    $('#cpmstar_anchor')['hide']();
    $('div')['each'](function(_0x2fcax1e) {
        if ((this.style.zIndex == 100) && ((this.style.left == '0px') || (this.style.right == '0px'))) {
            this.style.display = 'none'
        }
    });
    pause = false;
    game_timer = +new Date();
    game_timer_c = 0;
    killed_other = 0;
    killed_total = 0
}
$('#nickname')['on']('keyup', function(_0x2fcax1f) {
    if (_0x2fcax1f.keyCode == 13 && $('.main')['is'](':visible')) {
        $('.playButon')['trigger']('click')
    }
});

function resetPage() {
    location.reload()
}

function screen_sizes() {
    if (game_mode == 'blocks') {
        return
    };
    $('#paperio #outer_grid')['css']({
        'width': grid_width * 30 + $('#paperio')['width'](),
        'height': grid_height * 30 + $('#paperio')['height']()
    });
    $('#paperio #grid')['css']({
        'width': grid_width * 30,
        'height': grid_height * 30,
        'left': $(window)['width']() / 2 / document.body.style.zoom,
        'top': $('#paperio')['height']() / 2
    })
}
$(document)['ready'](function() {});
$(window)['on']('resize', function() {});

function setZoom() {
    if ($('.grow')['is'](':visible') == false && $('#game_over')['is'](':visible') == false) {
        document.body.style.zoom = 1 / window.devicePixelRatio;
        screen_sizes()
    } else {
        document.body.style.zoom = 1
    }
}
if (game_with_modes) {
    var game_mode = 'normal'
} else {
    var game_mode = ''
};
var game_challenge = 0;
var obstaclesOn = false;
var game_speed = 400;
var mpd = 0;
var spd = 100;

function serverSelect(_0x2fcax2a, gamemode) {
    if (_0x2fcax2a == 'ffa') {
        spd = 100
    } else {
        if (_0x2fcax2a == 'speed') {
            spd = 150
        } else {
            if (_0x2fcax2a == 'jet') {
                spd = 200
            } else {
                spd = 100
            }
        }
    };
    game_mode = gamemode;
    $('.selectedServer')['html'](_0x2fcax2a);
    switch (game_mode) {
        case 'paper2':
            if (!Path2D) {
                $('.play')['hide']()
            }
    };
    window.game_speed = game_speed
}! function() {
    'use strict';

    function _0x2fcax2b(_0x2fcax2c) {
        return (_0x2fcax2b = 'function' == typeof Symbol && 'symbol' == typeof Symbol.iterator ? function(_0x2fcax2c) {
            return typeof _0x2fcax2c
        } : function(_0x2fcax2c) {
            return _0x2fcax2c && 'function' == typeof Symbol && _0x2fcax2c.constructor === Symbol && _0x2fcax2c !== Symbol.prototype ? 'symbol' : typeof _0x2fcax2c
        })(_0x2fcax2c)
    }

    function _0x2fcax2d(_0x2fcax2c, _0x2fcax1f) {
        if (!(_0x2fcax2c instanceof _0x2fcax1f)) {
            throw new TypeError('Cannot call a class as a function')
        }
    }

    function _0x2fcax1e(_0x2fcax2c, _0x2fcax1f) {
        for (var _0x2fcax2e = 0; _0x2fcax2e < _0x2fcax1f.length; _0x2fcax2e++) {
            var _0x2fcax1e = _0x2fcax1f[_0x2fcax2e];
            _0x2fcax1e.enumerable = _0x2fcax1e.enumerable || !1, _0x2fcax1e.configurable = !0, 'value' in _0x2fcax1e && (_0x2fcax1e.writable = !0), Object.defineProperty(_0x2fcax2c, _0x2fcax1e.key, _0x2fcax1e)
        }
    }

    function _0x2fcax2f(_0x2fcax2c, _0x2fcax1f, _0x2fcax2e) {
        return _0x2fcax1f && _0x2fcax1e(_0x2fcax2c.prototype, _0x2fcax1f), _0x2fcax2e && _0x2fcax1e(_0x2fcax2c, _0x2fcax2e), _0x2fcax2c
    }

    function _0x2fcax1f(_0x2fcax2c, _0x2fcax1f) {
        if ('function' != typeof _0x2fcax1f && null !== _0x2fcax1f) {
            throw new TypeError('Super expression must either be null or a function')
        };
        _0x2fcax2c.prototype = Object.create(_0x2fcax1f && _0x2fcax1f.prototype, {
            constructor: {
                value: _0x2fcax2c,
                writable: !0,
                configurable: !0
            }
        }), _0x2fcax1f && _0x2fcax2e(_0x2fcax2c, _0x2fcax1f)
    }

    function _0x2fcax30(_0x2fcax2c) {
        return (_0x2fcax30 = Object.setPrototypeOf ? Object.getPrototypeOf : function(_0x2fcax2c) {
            return _0x2fcax2c.__proto__ || Object.getPrototypeOf(_0x2fcax2c)
        })(_0x2fcax2c)
    }

    function _0x2fcax2e(_0x2fcax2c, _0x2fcax1f) {
        return (_0x2fcax2e = Object.setPrototypeOf || function(_0x2fcax2c, _0x2fcax1f) {
            return _0x2fcax2c.__proto__ = _0x2fcax1f, _0x2fcax2c
        })(_0x2fcax2c, _0x2fcax1f)
    }

    function _0x2fcax31(_0x2fcax2c) {
        if (void(0) === _0x2fcax2c) {
            throw new ReferenceError('this hasn\x27t been initialised - super() hasn\x27t been called')
        };
        return _0x2fcax2c
    }

    function _0x2fcax32(_0x2fcax2c, _0x2fcax1f) {
        return !_0x2fcax1f || 'object' != typeof _0x2fcax1f && 'function' != typeof _0x2fcax1f ? _0x2fcax31(_0x2fcax2c) : _0x2fcax1f
    }

    function _0x2fcax33(_0x2fcax2c, _0x2fcax1f) {
        return function(_0x2fcax2c) {
            if (Array.isArray(_0x2fcax2c)) {
                return _0x2fcax2c
            }
        }(_0x2fcax2c) || function(_0x2fcax2c, _0x2fcax1f) {
            var _0x2fcax2e = [],
                _0x2fcax1e = !0,
                _0x2fcax34 = !1,
                _0x2fcax35 = void(0);
            try {
                for (var _0x2fcax36, _0x2fcax30 = _0x2fcax2c[Symbol.iterator](); !(_0x2fcax1e = (_0x2fcax36 = _0x2fcax30.next())['done']) && (_0x2fcax2e.push(_0x2fcax36.value), !_0x2fcax1f || _0x2fcax2e.length !== _0x2fcax1f); _0x2fcax1e = !0) {
                    ;
                }
            } catch (_0x2fcax2c) {
                _0x2fcax34 = !0, _0x2fcax35 = _0x2fcax2c
            } finally {
                try {
                    _0x2fcax1e || null == _0x2fcax30.return || _0x2fcax30.return()
                } finally {
                    if (_0x2fcax34) {
                        throw _0x2fcax35
                    }
                }
            };
            return _0x2fcax2e
        }(_0x2fcax2c, _0x2fcax1f) || function() {
            throw new TypeError('Invalid attempt to destructure non-iterable instance')
        }()
    }

    function _0x2fcax37(_0x2fcax2c) {
        return function(_0x2fcax2c) {
            if (Array.isArray(_0x2fcax2c)) {
                for (var _0x2fcax1f = 0, _0x2fcax2e = new Array(_0x2fcax2c.length); _0x2fcax1f < _0x2fcax2c.length; _0x2fcax1f++) {
                    _0x2fcax2e[_0x2fcax1f] = _0x2fcax2c[_0x2fcax1f]
                };
                return _0x2fcax2e
            }
        }(_0x2fcax2c) || function(_0x2fcax2c) {
            if (Symbol.iterator in Object(_0x2fcax2c) || '[object Arguments]' === Object.prototype.toString.call(_0x2fcax2c)) {
                return Array.from(_0x2fcax2c)
            }
        }(_0x2fcax2c) || function() {
            throw new TypeError('Invalid attempt to spread non-iterable instance')
        }()
    }
    var _0x2fcax2c, _0x2fcax38, _0x2fcax34, _0x2fcax35, _0x2fcax39, _0x2fcax3a, _0x2fcax3b, _0x2fcax36, _0x2fcax3c = Math.pow(2, -26),
        _0x2fcax3d = function(_0x2fcax2c) {
            return Math.abs(_0x2fcax2c) <= _0x2fcax3c
        },
        _0x2fcax3e = function(_0x2fcax2c, _0x2fcax1f) {
            return Math.abs(_0x2fcax2c - _0x2fcax1f) <= _0x2fcax3c
        },
        _0x2fcax3f = function(_0x2fcax2c, _0x2fcax1f, _0x2fcax2e, _0x2fcax1e) {
            return _0x2fcax2c * _0x2fcax1e - _0x2fcax1f * _0x2fcax2e
        },
        _0x2fcax40 = function(_0x2fcax2c, _0x2fcax1f, _0x2fcax2e) {
            return Math.min(_0x2fcax2c, _0x2fcax1f) - _0x2fcax3c <= _0x2fcax2e && _0x2fcax2e <= Math.max(_0x2fcax2c, _0x2fcax1f) + _0x2fcax3c
        },
        _0x2fcax41 = function(_0x2fcax2c, _0x2fcax1f, _0x2fcax2e, _0x2fcax1e) {
            var _0x2fcax34;
            return _0x2fcax1f < _0x2fcax2c && (_0x2fcax34 = _0x2fcax2c, _0x2fcax2c = _0x2fcax1f, _0x2fcax1f = _0x2fcax34), _0x2fcax1e < _0x2fcax2e && (_0x2fcax34 = _0x2fcax2e, _0x2fcax2e = _0x2fcax1e, _0x2fcax1e = _0x2fcax34), Math.min(_0x2fcax1f, _0x2fcax1e) - Math.max(_0x2fcax2c, _0x2fcax2e)
        },
        _0x2fcax42 = performance || Date,
        _0x2fcax43 = _0x2fcax42.now.bind(_0x2fcax42),
        _0x2fcax44 = 1,
        _0x2fcax45 = function(_0x2fcax2c, _0x2fcax1f, _0x2fcax2e, _0x2fcax1e) {
            for (var _0x2fcax34 = 2 * Math.PI, _0x2fcax35 = _0x2fcax34 / _0x2fcax2e, _0x2fcax36 = [], _0x2fcax30 = 0; _0x2fcax30 < _0x2fcax34 - _0x2fcax3c; _0x2fcax30 += _0x2fcax35) {
                _0x2fcax36.push(new _0x2fcax47(_0x2fcax2c + Math.cos(_0x2fcax30) * _0x2fcax1e, _0x2fcax1f + Math.sin(_0x2fcax30) * _0x2fcax1e))
            };
            return _0x2fcax36
        },
        _0x2fcax46 = function(_0x2fcax2c, _0x2fcax1f, _0x2fcax2e) {
            return '#' ['concat'](function(_0x2fcax2c) {
                var _0x2fcax2e = '';
                return _0x2fcax2c.forEach(function(_0x2fcax2c) {
                    var _0x2fcax1f = _0x2fcax2c.toString(16);
                    _0x2fcax2e += _0x2fcax1f.length < 2 ? '0' ['concat'](_0x2fcax1f) : _0x2fcax1f
                }), _0x2fcax2e
            }(function(_0x2fcax2c) {
                var _0x2fcax1f, _0x2fcax2e, _0x2fcax1e, _0x2fcax34, _0x2fcax35, _0x2fcax36, _0x2fcax30, _0x2fcax31, _0x2fcax2f = _0x2fcax2c.h,
                    _0x2fcax32 = _0x2fcax2c.s,
                    _0x2fcax39 = _0x2fcax2c.v;
                if (_0x2fcax2f = Math.max(0, Math.min(360, _0x2fcax2f)), _0x2fcax32 = Math.max(0, Math.min(100, _0x2fcax32)), _0x2fcax39 = Math.max(0, Math.min(100, _0x2fcax39)), _0x2fcax39 /= 100, 0 == (_0x2fcax32 /= 100)) {
                    return _0x2fcax1f = _0x2fcax2e = _0x2fcax1e = _0x2fcax39, [Math.round(255 * _0x2fcax1f), Math.round(255 * _0x2fcax2e), Math.round(255 * _0x2fcax1e)]
                };
                switch (_0x2fcax36 = _0x2fcax39 * (1 - _0x2fcax32), _0x2fcax30 = _0x2fcax39 * (1 - _0x2fcax32 * (_0x2fcax35 = (_0x2fcax2f /= 60) - (_0x2fcax34 = Math.floor(_0x2fcax2f)))), _0x2fcax31 = _0x2fcax39 * (1 - _0x2fcax32 * (1 - _0x2fcax35)), _0x2fcax34) {
                    case 0:
                        _0x2fcax1f = _0x2fcax39, _0x2fcax2e = _0x2fcax31, _0x2fcax1e = _0x2fcax36;
                        break;
                    case 1:
                        _0x2fcax1f = _0x2fcax30, _0x2fcax2e = _0x2fcax39, _0x2fcax1e = _0x2fcax36;
                        break;
                    case 2:
                        _0x2fcax1f = _0x2fcax36, _0x2fcax2e = _0x2fcax39, _0x2fcax1e = _0x2fcax31;
                        break;
                    case 3:
                        _0x2fcax1f = _0x2fcax36, _0x2fcax2e = _0x2fcax30, _0x2fcax1e = _0x2fcax39;
                        break;
                    case 4:
                        _0x2fcax1f = _0x2fcax31, _0x2fcax2e = _0x2fcax36, _0x2fcax1e = _0x2fcax39;
                        break;
                    default:
                        _0x2fcax1f = _0x2fcax39, _0x2fcax2e = _0x2fcax36, _0x2fcax1e = _0x2fcax30
                };
                return [Math.round(255 * _0x2fcax1f), Math.round(255 * _0x2fcax2e), Math.round(255 * _0x2fcax1e)]
            }({
                h: _0x2fcax2c,
                s: _0x2fcax1f,
                v: _0x2fcax2e
            })))
        },
        _0x2fcax47 = function() {
            function _0x2fcax2e(_0x2fcax2c, _0x2fcax1f) {
                _0x2fcax2d(this, _0x2fcax2e), this.cell = null, this.segments = [], this.set(_0x2fcax2c, _0x2fcax1f)
            }
            return _0x2fcax2f(_0x2fcax2e, [{
                key: 'set',
                value: function(_0x2fcax2c, _0x2fcax1f) {
                    return this.x = _0x2fcax2c || 0, this.y = _0x2fcax1f || (0 === _0x2fcax1f ? 0 : this.x), this
                }
            }, {
                key: 'commit',
                value: function(_0x2fcax2c) {
                    if (-1 === this.segments.indexOf(_0x2fcax2c) && this.segments.push(_0x2fcax2c), !this.cell) {
                        var _0x2fcax1f = _0x2fcax2e.space.cell(this);
                        _0x2fcax1f.commit(this), this.cell = _0x2fcax1f
                    }
                }
            }, {
                key: 'remove',
                value: function(_0x2fcax2c) {
                    var _0x2fcax1f = this.segments.indexOf(_0x2fcax2c);
                    this.segments.splice(_0x2fcax1f, 1), this.cell && !this.segments.length && this.cell.remove(this)
                }
            }, {
                key: 'add',
                value: function(_0x2fcax2c) {
                    return this.x += _0x2fcax2c.x, this.y += _0x2fcax2c.y, this
                }
            }, {
                key: 'sub',
                value: function(_0x2fcax2c) {
                    return this.x -= _0x2fcax2c.x, this.y -= _0x2fcax2c.y, this
                }
            }, {
                key: 'mul',
                value: function(_0x2fcax2c) {
                    return this.x *= _0x2fcax2c.x, this.y *= _0x2fcax2c.y, this
                }
            }, {
                key: 'mulScalar',
                value: function(_0x2fcax2c) {
                    return this.x *= _0x2fcax2c, this.y *= _0x2fcax2c, this
                }
            }, {
                key: 'magnitude',
                value: function() {
                    var _0x2fcax2c = this.x,
                        _0x2fcax1f = this.y;
                    return Math.sqrt(_0x2fcax2c * _0x2fcax2c + _0x2fcax1f * _0x2fcax1f)
                }
            }, {
                key: 'normalize',
                value: function() {
                    var _0x2fcax2c = this.magnitude();
                    return _0x2fcax2c && this.mulScalar(1 / _0x2fcax2c), this
                }
            }, {
                key: 'clone',
                value: function() {
                    return new _0x2fcax2e(this.x, this.y)
                }
            }, {
                key: 'copy',
                value: function(_0x2fcax2c) {
                    return this.x = _0x2fcax2c.x, this.y = _0x2fcax2c.y, this
                }
            }, {
                key: 'distance',
                value: function(_0x2fcax2c) {
                    return Math.sqrt(this.distance2(_0x2fcax2c))
                }
            }, {
                key: 'distance2',
                value: function(_0x2fcax2c) {
                    var _0x2fcax1f = this.x - _0x2fcax2c.x,
                        _0x2fcax2e = this.y - _0x2fcax2c.y;
                    return _0x2fcax1f * _0x2fcax1f + _0x2fcax2e * _0x2fcax2e
                }
            }, {
                key: 'dot',
                value: function(_0x2fcax2c) {
                    return this.x * _0x2fcax2c.x + this.y * _0x2fcax2c.y
                }
            }, {
                key: 'rotate',
                value: function(_0x2fcax2c) {
                    var _0x2fcax1f = this.x,
                        _0x2fcax2e = this.y,
                        _0x2fcax1e = Math.cos(_0x2fcax2c),
                        _0x2fcax34 = Math.sin(_0x2fcax2c);
                    return this.x = _0x2fcax1f * _0x2fcax1e - _0x2fcax2e * _0x2fcax34, this.y = _0x2fcax1f * _0x2fcax34 + _0x2fcax2e * _0x2fcax1e, this
                }
            }, {
                key: 'angle',
                value: function(_0x2fcax2c) {
                    return Math.atan2(this.x * _0x2fcax2c.y - _0x2fcax2c.x * this.y, this.dot(_0x2fcax2c))
                }
            }, {
                key: 'invert',
                value: function() {
                    return this.mulScalar(-1)
                }
            }, {
                key: 'equal',
                value: function(_0x2fcax2c) {
                    return _0x2fcax3e(this.x, _0x2fcax2c.x) && _0x2fcax3e(this.y, _0x2fcax2c.y)
                }
            }]), _0x2fcax2e
        }(),
        _0x2fcax48 = function() {
            function _0x2fcax2e(_0x2fcax2c, _0x2fcax1f) {
                _0x2fcax2d(this, _0x2fcax2e), this.points = [], this.x = _0x2fcax2c, this.y = _0x2fcax1f
            }
            return _0x2fcax2f(_0x2fcax2e, [{
                key: 'commit',
                value: function(_0x2fcax2c) {
                    this.points.push(_0x2fcax2c)
                }
            }, {
                key: 'remove',
                value: function(_0x2fcax2c) {
                    var _0x2fcax1f = this.points,
                        _0x2fcax2e = _0x2fcax1f.indexOf(_0x2fcax2c); - 1 !== _0x2fcax2e && _0x2fcax1f.splice(_0x2fcax2e, 1)
                }
            }]), _0x2fcax2e
        }(),
        _0x2fcax49 = function() {
            function _0x2fcax35(_0x2fcax2c, _0x2fcax1f, _0x2fcax2e) {
                _0x2fcax2d(this, _0x2fcax35), this.width = _0x2fcax2c, this.height = _0x2fcax1f, this.center = new _0x2fcax47(_0x2fcax2c / 2, _0x2fcax1f / 2), this.size = _0x2fcax2e, this.w = Math.ceil(_0x2fcax2c / _0x2fcax2e), this.h = Math.ceil(_0x2fcax1f / _0x2fcax2e), this.cells = [];
                for (var _0x2fcax1e = 0; _0x2fcax1e < this.h; _0x2fcax1e++) {
                    for (var _0x2fcax34 = 0; _0x2fcax34 < this.w; _0x2fcax34++) {
                        this.cells.push(new _0x2fcax48(_0x2fcax34, _0x2fcax1e))
                    }
                }
            }
            return _0x2fcax2f(_0x2fcax35, [{
                key: 'count',
                value: function() {
                    var _0x2fcax1f = 0;
                    return this.cells.forEach(function(_0x2fcax2c) {
                        _0x2fcax1f += _0x2fcax2c.points.length
                    }), _0x2fcax1f
                }
            }, {
                key: 'cell',
                value: function(_0x2fcax2c) {
                    return this.getCell(Math.floor(_0x2fcax2c.x / this.size), Math.floor(_0x2fcax2c.y / this.size))
                }
            }, {
                key: 'getCell',
                value: function(_0x2fcax2c, _0x2fcax1f) {
                    return this.cells[_0x2fcax2c + _0x2fcax1f * this.w]
                }
            }, {
                key: 'checkPoint',
                value: function(_0x2fcax1f) {
                    return this.cell(_0x2fcax1f)['points']['find'](function(_0x2fcax2c) {
                        return _0x2fcax2c.equal(_0x2fcax1f)
                    }) || _0x2fcax1f
                }
            }, {
                key: 'segmentsCount',
                value: function() {
                    for (var _0x2fcax1f = {}, _0x2fcax2c = 0; _0x2fcax2c < this.h; _0x2fcax2c++) {
                        for (var _0x2fcax2e = 0; _0x2fcax2e < this.w; _0x2fcax2e++) {
                            this.getCell(_0x2fcax2e, _0x2fcax2c)['points']['forEach'](function(_0x2fcax2c) {
                                _0x2fcax2c.segments.forEach(function(_0x2fcax2c) {
                                    return _0x2fcax1f[_0x2fcax2c.id] = _0x2fcax2c
                                })
                            })
                        }
                    };
                    return _0x2fcax1f
                }
            }, {
                key: 'intersections',
                value: function(_0x2fcax2e) {
                    for (var _0x2fcax2c = this.cell(_0x2fcax2e.start), _0x2fcax1f = this.cell(_0x2fcax2e.end), _0x2fcax1e = Math.min(_0x2fcax2c.x, _0x2fcax1f.x), _0x2fcax34 = Math.max(_0x2fcax2c.x, _0x2fcax1f.x), _0x2fcax35 = Math.min(_0x2fcax2c.y, _0x2fcax1f.y), _0x2fcax36 = Math.max(_0x2fcax2c.y, _0x2fcax1f.y), _0x2fcax30 = _0x2fcax44++, _0x2fcax31 = [], _0x2fcax2f = _0x2fcax35; _0x2fcax2f <= _0x2fcax36; _0x2fcax2f++) {
                        for (var _0x2fcax32 = _0x2fcax1e; _0x2fcax32 <= _0x2fcax34; _0x2fcax32++) {
                            this.getCell(_0x2fcax32, _0x2fcax2f)['points']['forEach'](function(_0x2fcax2c) {
                                _0x2fcax2c.segments.forEach(function(_0x2fcax2c) {
                                    _0x2fcax2c.mark !== _0x2fcax30 && (_0x2fcax31.push(_0x2fcax2c), _0x2fcax2c.mark = _0x2fcax30)
                                })
                            })
                        }
                    };
                    var _0x2fcax39 = [];
                    return _0x2fcax31.forEach(function(_0x2fcax2c) {
                        var _0x2fcax1f = _0x2fcax2c.intersect(_0x2fcax2e);
                        _0x2fcax1f && _0x2fcax39.push(_0x2fcax1f)
                    }), _0x2fcax39
                }
            }]), _0x2fcax35
        }(),
        _0x2fcax4a = function() {
            function _0x2fcax2e(_0x2fcax2c, _0x2fcax1f) {
                _0x2fcax2d(this, _0x2fcax2e), _0x2fcax2c.equal(_0x2fcax1f), this.mark = 0, this.shape = null, this.start = _0x2fcax2c, this.end = _0x2fcax1f, this.calc()
            }
            return _0x2fcax2f(_0x2fcax2e, [{
                key: 'calc',
                value: function() {
                    var _0x2fcax2c = this.start,
                        _0x2fcax1f = this.end;
                    this.vector = _0x2fcax1f.clone()['sub'](_0x2fcax2c);
                    var _0x2fcax2e = _0x2fcax2c.y - _0x2fcax1f.y,
                        _0x2fcax1e = _0x2fcax1f.x - _0x2fcax2c.x,
                        _0x2fcax34 = Math.sqrt(_0x2fcax2e * _0x2fcax2e + _0x2fcax1e * _0x2fcax1e);
                    _0x2fcax2e /= _0x2fcax34, _0x2fcax1e /= _0x2fcax34, this.a = _0x2fcax2e, this.b = _0x2fcax1e, this.c = -(_0x2fcax2e * _0x2fcax2c.x + _0x2fcax1e * _0x2fcax2c.y)
                }
            }, {
                key: 'clone',
                value: function() {
                    return new _0x2fcax2e(this.start, this.end)
                }
            }, {
                key: 'reverse',
                value: function() {
                    var _0x2fcax2c = this.start;
                    return this.start = this.end, this.end = _0x2fcax2c, this.calc(), this
                }
            }, {
                key: 'commit',
                value: function(_0x2fcax2c) {
                    return this.shape = _0x2fcax2c, this.start.commit(this), this.end.commit(this), this
                }
            }, {
                key: 'remove',
                value: function() {
                    this.shape = null, this.start.remove(this), this.end.remove(this)
                }
            }, {
                key: 'length',
                value: function() {
                    return this.vector.magnitude()
                }
            }, {
                key: 'zn',
                value: function(_0x2fcax2c) {
                    var _0x2fcax1f = _0x2fcax2c.a,
                        _0x2fcax2e = _0x2fcax2c.b,
                        _0x2fcax1e = this.a,
                        _0x2fcax34 = this.b;
                    return _0x2fcax3f(_0x2fcax1f, _0x2fcax2e, _0x2fcax1e, _0x2fcax34)
                }
            }, {
                key: 'intersect',
                value: function(_0x2fcax2c) {
                    var _0x2fcax1f = _0x2fcax2c.a,
                        _0x2fcax2e = _0x2fcax2c.b,
                        _0x2fcax1e = _0x2fcax2c.c,
                        _0x2fcax34 = _0x2fcax2c.start,
                        _0x2fcax35 = _0x2fcax2c.end,
                        _0x2fcax36 = this.a,
                        _0x2fcax30 = this.b,
                        _0x2fcax31 = this.c,
                        _0x2fcax2f = this.start,
                        _0x2fcax32 = this.end,
                        _0x2fcax39 = _0x2fcax3f(_0x2fcax1f, _0x2fcax2e, _0x2fcax36, _0x2fcax30);
                    if (!_0x2fcax3d(_0x2fcax39)) {
                        var _0x2fcax3a = -_0x2fcax3f(_0x2fcax1e, _0x2fcax2e, _0x2fcax31, _0x2fcax30) / _0x2fcax39,
                            _0x2fcax42 = -_0x2fcax3f(_0x2fcax1f, _0x2fcax1e, _0x2fcax36, _0x2fcax31) / _0x2fcax39,
                            _0x2fcax2d = _0x2fcax40(_0x2fcax34.x, _0x2fcax35.x, _0x2fcax3a) && _0x2fcax40(_0x2fcax34.y, _0x2fcax35.y, _0x2fcax42) && _0x2fcax40(_0x2fcax2f.x, _0x2fcax32.x, _0x2fcax3a) && _0x2fcax40(_0x2fcax2f.y, _0x2fcax32.y, _0x2fcax42) && new _0x2fcax47(_0x2fcax3a, _0x2fcax42);
                        return !!_0x2fcax2d && {
                            point: _0x2fcax2f.equal(_0x2fcax2d) && _0x2fcax2f || _0x2fcax32.equal(_0x2fcax2d) && _0x2fcax32 || _0x2fcax34.equal(_0x2fcax2d) && _0x2fcax34 || _0x2fcax35.equal(_0x2fcax2d) && _0x2fcax35 || _0x2fcax2d,
                            segment: this,
                            distance: _0x2fcax2d.distance2(_0x2fcax34),
                            overlay: !1,
                            zn: Math.sign(_0x2fcax39)
                        }
                    };
                    var _0x2fcax44 = _0x2fcax41(_0x2fcax34.x, _0x2fcax35.x, _0x2fcax2f.x, _0x2fcax32.x),
                        _0x2fcax45 = _0x2fcax41(_0x2fcax34.y, _0x2fcax35.y, _0x2fcax2f.y, _0x2fcax32.y);
                    if (_0x2fcax3d(_0x2fcax3f(_0x2fcax1f, _0x2fcax1e, _0x2fcax36, _0x2fcax31)) && _0x2fcax3d(_0x2fcax3f(_0x2fcax2e, _0x2fcax1e, _0x2fcax30, _0x2fcax31)) && -_0x2fcax3c <= _0x2fcax44 && -_0x2fcax3c <= _0x2fcax45) {
                        var _0x2fcax46;
                        if (_0x2fcax3c <= _0x2fcax44 || _0x2fcax3c <= _0x2fcax45) {
                            return {
                                point: _0x2fcax46 = _0x2fcax40(_0x2fcax2f.x, _0x2fcax32.x, _0x2fcax34.x) && _0x2fcax40(_0x2fcax2f.y, _0x2fcax32.y, _0x2fcax34.y) ? _0x2fcax2f.equal(_0x2fcax34) && _0x2fcax2f || _0x2fcax32.equal(_0x2fcax34) && _0x2fcax32 || _0x2fcax34 : _0x2fcax34.distance2(_0x2fcax2f) >= _0x2fcax34.distance2(_0x2fcax32) ? _0x2fcax32 : _0x2fcax2f,
                                segment: this,
                                distance: _0x2fcax46.distance2(_0x2fcax34),
                                overlay: !0,
                                zn: 0
                            }
                        };
                        var _0x2fcax48 = _0x2fcax2f.equal(_0x2fcax34) || _0x2fcax2f.equal(_0x2fcax35) ? _0x2fcax2f : _0x2fcax32;
                        return {
                            point: _0x2fcax48,
                            segment: this,
                            distance: _0x2fcax48.distance2(_0x2fcax34),
                            overlay: !1,
                            zn: 0
                        }
                    };
                    return !1
                }
            }, {
                key: 'has',
                value: function(_0x2fcax2c) {
                    return this.start === _0x2fcax2c || this.end === _0x2fcax2c
                }
            }, {
                key: 'owner',
                get: function() {}
            }]), _0x2fcax2e
        }(),
        _0x2fcax4b = function(_0x2fcax2c, _0x2fcax1f, _0x2fcax2e) {
            var _0x2fcax1e = _0x2fcax2c.x - _0x2fcax2e.x,
                _0x2fcax34 = _0x2fcax2c.y - _0x2fcax2e.y,
                _0x2fcax35 = _0x2fcax1f.x - _0x2fcax2e.x,
                _0x2fcax36 = _0x2fcax1f.y - _0x2fcax2e.y;
            if (0 < _0x2fcax34 * _0x2fcax36) {
                return 1
            };
            var _0x2fcax30 = _0x2fcax1e * _0x2fcax36 - _0x2fcax34 * _0x2fcax35,
                _0x2fcax31 = _0x2fcax3d(_0x2fcax30) ? 0 : Math.sign(_0x2fcax30);
            return 0 === _0x2fcax31 ? _0x2fcax1e * _0x2fcax35 <= 0 ? 0 : 1 : _0x2fcax34 < 0 ? -_0x2fcax31 : _0x2fcax36 < 0 ? _0x2fcax31 : 1
        },
        _0x2fcax4c = function() {
            function _0x2fcax1e(_0x2fcax2c) {
                _0x2fcax2d(this, _0x2fcax1e), this.segments = [], this.owner = null;
                for (var _0x2fcax1f = _0x2fcax2c.length, _0x2fcax2e = 0; _0x2fcax2e < _0x2fcax1f;) {
                    this.segments.push(new _0x2fcax4a(_0x2fcax2c[_0x2fcax2e++], _0x2fcax2c[_0x2fcax2e < _0x2fcax1f ? _0x2fcax2e : 0]))
                };
                this.updateBounds()
            }
            return _0x2fcax2f(_0x2fcax1e, [{
                key: 'commit',
                value: function(_0x2fcax2c) {
                    var _0x2fcax1f = this;
                    _0x2fcax2c && (this.owner = _0x2fcax2c), this.segments.forEach(function(_0x2fcax2c) {
                        return _0x2fcax2c.commit(_0x2fcax1f)
                    })
                }
            }, {
                key: 'remove',
                value: function() {
                    this.segments.forEach(function(_0x2fcax2c) {
                        return _0x2fcax2c.remove()
                    })
                }
            }, {
                key: 'reverse',
                value: function() {
                    return this.segments.reverse(), this.segments.forEach(function(_0x2fcax2c) {
                        return _0x2fcax2c.reverse()
                    }), this
                }
            }, {
                key: 'insert',
                value: function(_0x2fcax1f, _0x2fcax2c) {
                    if (!_0x2fcax1f.has(_0x2fcax2c)) {
                        var _0x2fcax2e = this.segments.findIndex(function(_0x2fcax2c) {
                                return _0x2fcax2c === _0x2fcax1f
                            }),
                            _0x2fcax1e = new _0x2fcax4a(_0x2fcax1f.start, _0x2fcax2c)['commit'](this),
                            _0x2fcax34 = new _0x2fcax4a(_0x2fcax2c, _0x2fcax1f.end)['commit'](this);
                        _0x2fcax1f.remove(), this.segments.splice(_0x2fcax2e, 1, _0x2fcax1e, _0x2fcax34)
                    }
                }
            }, {
                key: 'hasPoint',
                value: function(_0x2fcax1f) {
                    return this.segments.some(function(_0x2fcax2c) {
                        return _0x2fcax2c.has(_0x2fcax1f)
                    })
                }
            }, {
                key: 'findSegment',
                value: function(_0x2fcax1f) {
                    return this.segments.findIndex(function(_0x2fcax2c) {
                        return _0x2fcax2c.start === _0x2fcax1f
                    })
                }
            }, {
                key: 'splice',
                value: function(_0x2fcax2c, _0x2fcax1f, _0x2fcax2e) {
                    var _0x2fcax1e;
                    (_0x2fcax1e = this.segments)['splice']['apply'](_0x2fcax1e, [_0x2fcax1f, _0x2fcax2e - _0x2fcax1f]['concat'](_0x2fcax37(_0x2fcax2c.segments)))['forEach'](function(_0x2fcax2c) {
                        return _0x2fcax2c.remove()
                    }), _0x2fcax2c.commit(this)
                }
            }, {
                key: 'unsplice',
                value: function(_0x2fcax2c, _0x2fcax1f, _0x2fcax2e) {
                    var _0x2fcax1e = this.segments.splice(_0x2fcax1f, _0x2fcax2e - _0x2fcax1f);
                    this.remove(), this.segments = _0x2fcax1e.concat(_0x2fcax2c.reverse()['segments']), _0x2fcax2c.commit(this)
                }
            }, {
                key: 'left',
                value: function(_0x2fcax2c, _0x2fcax1f, _0x2fcax2e) {
                    for (var _0x2fcax1e, _0x2fcax34 = this, _0x2fcax35 = [], _0x2fcax36 = 0; _0x2fcax36 < _0x2fcax2c.length - 1; _0x2fcax36++) {
                        _0x2fcax35.push(new _0x2fcax4a(_0x2fcax2c[_0x2fcax36], _0x2fcax2c[_0x2fcax36 + 1]))
                    };
                    var _0x2fcax30 = (_0x2fcax1e = this.segments)['splice']['apply'](_0x2fcax1e, [_0x2fcax1f, _0x2fcax2e - _0x2fcax1f]['concat'](_0x2fcax35));
                    _0x2fcax35.forEach(function(_0x2fcax2c) {
                        return _0x2fcax2c.commit(_0x2fcax34)
                    }), _0x2fcax30.forEach(function(_0x2fcax2c) {
                        return _0x2fcax2c.remove()
                    })
                }
            }, {
                key: 'right',
                value: function(_0x2fcax2c, _0x2fcax1f, _0x2fcax2e) {
                    for (var _0x2fcax1e = this, _0x2fcax34 = [], _0x2fcax35 = 0; _0x2fcax35 < _0x2fcax2c.length - 1; _0x2fcax35++) {
                        _0x2fcax34.push(new _0x2fcax4a(_0x2fcax2c[_0x2fcax35], _0x2fcax2c[_0x2fcax35 + 1]))
                    };
                    var _0x2fcax36 = this.segments.splice(_0x2fcax1f, _0x2fcax2e - _0x2fcax1f);
                    this.remove(), _0x2fcax34.reverse()['forEach'](function(_0x2fcax2c) {
                        return _0x2fcax2c.reverse()['commit'](_0x2fcax1e)
                    }), this.segments = _0x2fcax36.concat(_0x2fcax34)
                }
            }, {
                key: 'points',
                value: function() {
                    return this.segments.map(function(_0x2fcax2c) {
                        return _0x2fcax2c.start
                    })
                }
            }, {
                key: 'intersections',
                value: function(_0x2fcax2e) {
                    var _0x2fcax1e = [];
                    return 1 < this.segments.length && this.segments.forEach(function(_0x2fcax2c) {
                        var _0x2fcax1f = _0x2fcax2c.intersect(_0x2fcax2e);
                        _0x2fcax1f && _0x2fcax1e.push(_0x2fcax1f)
                    }), _0x2fcax1e.sort(function(_0x2fcax2c, _0x2fcax1f) {
                        return _0x2fcax2c.distance - _0x2fcax1f.distance
                    }), _0x2fcax1e
                }
            }, {
                key: 'inside',
                value: function(_0x2fcax2c) {
                    for (var _0x2fcax1f = this.segments.length, _0x2fcax2e = 1, _0x2fcax1e = 0; _0x2fcax1e < _0x2fcax1f; _0x2fcax1e++) {
                        var _0x2fcax34 = this.segments[_0x2fcax1e],
                            _0x2fcax35 = _0x2fcax34.start,
                            _0x2fcax36 = _0x2fcax34.end,
                            _0x2fcax30 = _0x2fcax4b(_0x2fcax35, _0x2fcax36, _0x2fcax2c);
                        if (0 === _0x2fcax30) {
                            return !0
                        };
                        _0x2fcax2e *= _0x2fcax30
                    };
                    return 1 !== _0x2fcax2e
                }
            }, {
                key: 'rawSquare',
                value: function() {
                    var _0x2fcax1e = 0;
                    return this.segments.forEach(function(_0x2fcax2c) {
                        var _0x2fcax1f = _0x2fcax2c.start,
                            _0x2fcax2e = _0x2fcax2c.end;
                        _0x2fcax1e += (_0x2fcax1f.x + _0x2fcax2e.x) * (_0x2fcax2e.y - _0x2fcax1f.y)
                    }), _0x2fcax1e / 2
                }
            }, {
                key: 'square',
                value: function() {
                    var _0x2fcax2c = this.rawSquare();
                    return _0x2fcax2c < 0 && (_0x2fcax2c *= -1), _0x2fcax2c
                }
            }, {
                key: 'calcPath',
                value: function() {
                    var _0x2fcax2c = new Path2D,
                        _0x2fcax1f = this.segments,
                        _0x2fcax2e = _0x2fcax1f.length,
                        _0x2fcax1e = _0x2fcax1f[0]['start'];
                    _0x2fcax2c.moveTo(_0x2fcax1e.x, _0x2fcax1e.y);
                    for (var _0x2fcax34 = 1; _0x2fcax34 < _0x2fcax2e; _0x2fcax34++) {
                        var _0x2fcax35 = _0x2fcax1f[_0x2fcax34]['start'];
                        _0x2fcax2c.lineTo(_0x2fcax35.x, _0x2fcax35.y)
                    };
                    _0x2fcax2c.closePath(), this.path = _0x2fcax2c, this.updateBounds()
                }
            }, {
                key: 'updateBounds',
                value: function() {
                    var _0x2fcax34 = 1 / 0,
                        _0x2fcax35 = -1 / 0,
                        _0x2fcax36 = 1 / 0,
                        _0x2fcax30 = -1 / 0;
                    this.segments.forEach(function(_0x2fcax2c) {
                        var _0x2fcax1f = _0x2fcax2c.start,
                            _0x2fcax2e = _0x2fcax1f.x,
                            _0x2fcax1e = _0x2fcax1f.y;
                        _0x2fcax34 = Math.min(_0x2fcax34, _0x2fcax2e), _0x2fcax35 = Math.max(_0x2fcax35, _0x2fcax2e), _0x2fcax36 = Math.min(_0x2fcax36, _0x2fcax1e), _0x2fcax30 = Math.max(_0x2fcax30, _0x2fcax1e)
                    }), this.bounds = {
                        left: _0x2fcax34,
                        right: _0x2fcax35,
                        top: _0x2fcax36,
                        bottom: _0x2fcax30
                    }
                }
            }]), _0x2fcax1e
        }(),
        _0x2fcax4d = function() {
            function _0x2fcax31(_0x2fcax2c, _0x2fcax1f) {
                if (_0x2fcax2d(this, _0x2fcax31), !_0x2fcax2c) {
                    var _0x2fcax2e = window.innerWidth / 2,
                        _0x2fcax1e = window.innerHeight / 2,
                        _0x2fcax34 = 0.85 * Math.min(_0x2fcax2e, _0x2fcax1e),
                        _0x2fcax35 = 2 * Math.PI,
                        _0x2fcax36 = _0x2fcax35 / 200;
                    _0x2fcax2c = [];
                    for (var _0x2fcax30 = 0; _0x2fcax30 < _0x2fcax35 - _0x2fcax3c; _0x2fcax30 += _0x2fcax36) {
                        _0x2fcax2c.push(new _0x2fcax47(_0x2fcax2e + Math.cos(_0x2fcax30) * _0x2fcax34, _0x2fcax1e + Math.sin(_0x2fcax30) * _0x2fcax34))
                    }
                };
                this.radius = _0x2fcax1f, this.polygon = new _0x2fcax4c(_0x2fcax2c)
            }
            return _0x2fcax2f(_0x2fcax31, [{
                key: 'intersections',
                value: function(_0x2fcax2c) {
                    return this.polygon.intersections(_0x2fcax2c)['filter'](function(_0x2fcax2c) {
                        return !_0x2fcax2c.overlay
                    })
                }
            }]), _0x2fcax31
        }(),
        _0x2fcax4e = function() {
            function _0x2fcax30(_0x2fcax2c, _0x2fcax1f, _0x2fcax2e, _0x2fcax1e, _0x2fcax34, _0x2fcax35, _0x2fcax36) {
                _0x2fcax2d(this, _0x2fcax30), this.text = _0x2fcax2c, this.color = _0x2fcax1f, this.unit = _0x2fcax2e, this.position = _0x2fcax1e, this.velocity = _0x2fcax34, this.duration = _0x2fcax35, this.time = _0x2fcax35, this.fading = _0x2fcax36
            }
            return _0x2fcax2f(_0x2fcax30, [{
                key: 'update',
                value: function(_0x2fcax2c) {
                    this.time -= _0x2fcax2c, 0 < this.time && this.position.add(this.velocity.clone()['mulScalar'](_0x2fcax2c / 1e3))
                }
            }, {
                key: 'draw',
                value: function(_0x2fcax2c, _0x2fcax1f) {
                    var _0x2fcax2e, _0x2fcax1e = Math.floor(255 * ((_0x2fcax2e = this.time / this.duration) * _0x2fcax2e * _0x2fcax2e * (_0x2fcax2e * (6 * _0x2fcax2e - 15) + 10))).toString(16);
                    _0x2fcax1e.length < 2 && (_0x2fcax1e = '0' + _0x2fcax1e);
                    var _0x2fcax34 = this.unit ? this.unit.position.clone()['add'](this.position) : this.position,
                        _0x2fcax35 = ~~(38 / window.devicePixelRatio);
                    _0x2fcax2c.fillStyle = '' ['concat'](this.color)['concat'](this.fading ? _0x2fcax1e : ''), _0x2fcax2c.font = 'bold ' ['concat'](_0x2fcax35, 'px Nunito'), _0x2fcax2c.textAlign = 'center', _0x2fcax2c.textBaseline = 'middle', _0x2fcax2c.fillText(this.text, _0x2fcax34.x * _0x2fcax1f, _0x2fcax34.y * _0x2fcax1f)
                }
            }]), _0x2fcax30
        }(),
        _0x2fcax4f = ((_0x2fcax2c = new Path2D)['moveTo'](-1, -1), _0x2fcax2c.lineTo(1, -1), _0x2fcax2c.lineTo(1, 1), _0x2fcax2c.lineTo(-1, 1), _0x2fcax2c.closePath(), _0x2fcax2c),
        _0x2fcax50 = function() {
            function _0x2fcax31(_0x2fcax2c, _0x2fcax1f, _0x2fcax2e, _0x2fcax1e, _0x2fcax34, _0x2fcax35, _0x2fcax36, _0x2fcax30) {
                _0x2fcax2d(this, _0x2fcax31), this.color = _0x2fcax2c, this.position = _0x2fcax1f, this.velocity = _0x2fcax2e, this.acceleration = _0x2fcax30, this.rotate = _0x2fcax1e, this.scale = _0x2fcax34, this.vscale = _0x2fcax35, this.rotation = Math.random() * Math.PI * 2, this.time = _0x2fcax36
            }
            return _0x2fcax2f(_0x2fcax31, [{
                key: 'update',
                value: function(_0x2fcax2c) {
                    this.time -= _0x2fcax2c;
                    var _0x2fcax1f = _0x2fcax2c / 1e3;
                    0 < this.time && (this.acceleration && this.velocity.add(this.acceleration.clone()['mulScalar'](_0x2fcax1f)), this.position.add(this.velocity.clone()['mulScalar'](_0x2fcax1f)), this.rotation += this.rotate * _0x2fcax1f, this.scale += this.vscale * _0x2fcax1f)
                }
            }, {
                key: 'draw',
                value: function(_0x2fcax2c) {
                    var _0x2fcax1f = this.position,
                        _0x2fcax2e = _0x2fcax1f.x,
                        _0x2fcax1e = _0x2fcax1f.y,
                        _0x2fcax34 = this.rotation,
                        _0x2fcax35 = this.color,
                        _0x2fcax36 = this.scale;
                    _0x2fcax2c.save(), _0x2fcax2c.translate(_0x2fcax2e, _0x2fcax1e), _0x2fcax2c.rotate(_0x2fcax34), _0x2fcax2c.scale(_0x2fcax36, _0x2fcax36), _0x2fcax2c.fillStyle = _0x2fcax35, _0x2fcax2c.fill(_0x2fcax4f), _0x2fcax2c.restore()
                }
            }]), _0x2fcax31
        }(),
        _0x2fcax51 = function() {
            function _0x2fcax42(_0x2fcax2c, _0x2fcax1f) {
                var _0x2fcax2e = this;
                _0x2fcax2d(this, _0x2fcax42), this.up = !1, this.down = !1, this.left = !1, this.right = !1, this.modifiers = {
                    shift: !1,
                    ctrl: !1,
                    alt: !1,
                    meta: !1
                }, this.mouse = null, this.lastMouse = null, this.buttons = {
                    left: !1,
                    middle: !1,
                    right: !1
                }, (this.keyboardModeSwitch = _0x2fcax1f)['get']();
                var _0x2fcax1e = function(_0x2fcax2c) {
                    return _0x2fcax2c.preventDefault()
                };
                _0x2fcax2c.addEventListener('contextmenu', _0x2fcax1e, !1);
                var _0x2fcax34 = function(_0x2fcax2c) {
                        return _0x2fcax2e.onKeyChange(_0x2fcax2c, !0)
                    },
                    _0x2fcax35 = function(_0x2fcax2c) {
                        return _0x2fcax2e.onKeyChange(_0x2fcax2c, !1)
                    };
                window.addEventListener('keydown', _0x2fcax34, !1), window.addEventListener('keyup', _0x2fcax35, !1);
                var _0x2fcax36 = function(_0x2fcax2c) {
                        return _0x2fcax2e.onMouseChange(_0x2fcax2c, !0)
                    },
                    _0x2fcax30 = function(_0x2fcax2c) {
                        return _0x2fcax2e.onMouseChange(_0x2fcax2c, !1)
                    },
                    _0x2fcax31 = function() {
                        _0x2fcax2e.lastMouse = _0x2fcax2e.mouse, _0x2fcax2e.mouse = null
                    },
                    _0x2fcax2f = function(_0x2fcax2c) {
                        null === _0x2fcax2e.mouse && (_0x2fcax2e.mouse = {}), _0x2fcax2e.mouse.x = _0x2fcax2c.pageX, _0x2fcax2e.mouse.y = _0x2fcax2c.pageY
                    },
                    _0x2fcax32 = function(_0x2fcax2c) {
                        _0x2fcax2f(_0x2fcax2c);
                        var _0x2fcax1f = _0x2fcax2c.buttons;
                        _0x2fcax2e.buttons = {
                            left: !!(1 & _0x2fcax1f),
                            middle: !!(4 & _0x2fcax1f),
                            right: !!(2 & _0x2fcax1f)
                        }
                    };
                _0x2fcax2c.addEventListener('mouseenter', _0x2fcax32, !1), _0x2fcax2c.addEventListener('mousemove', _0x2fcax2f, !1), _0x2fcax2c.addEventListener('mouseleave', _0x2fcax31, !1), _0x2fcax2c.addEventListener('mousedown', _0x2fcax36, !1), _0x2fcax2c.addEventListener('mouseup', _0x2fcax30, !1);
                var _0x2fcax39 = function() {
                        _0x2fcax2e.lastMouse = _0x2fcax2e.mouse, _0x2fcax2e.mouse = null
                    },
                    _0x2fcax3a = function(_0x2fcax2c) {
                        null === _0x2fcax2e.mouse && (_0x2fcax2e.mouse = {});
                        var _0x2fcax1f = _0x2fcax2c.changedTouches[0];
                        _0x2fcax2e.mouse.x = _0x2fcax1f.clientX, _0x2fcax2e.mouse.y = _0x2fcax1f.clientY
                    };
                _0x2fcax2c.addEventListener('touchstart', _0x2fcax3a, !1), _0x2fcax2c.addEventListener('touchmove', _0x2fcax3a, !1), _0x2fcax2c.addEventListener('touchend', _0x2fcax39, !1), _0x2fcax2c.addEventListener('touchcancel', _0x2fcax39, !1), this.dispose = function() {
                    _0x2fcax2c.removeEventListener('contextmenu', _0x2fcax1e, !1), window.removeEventListener('keydown', _0x2fcax34, !1), window.removeEventListener('keyup', _0x2fcax35, !1), _0x2fcax2c.removeEventListener('mouseenter', _0x2fcax32, !1), _0x2fcax2c.removeEventListener('mousemove', _0x2fcax2f, !1), _0x2fcax2c.removeEventListener('mouseleave', _0x2fcax31, !1), _0x2fcax2c.removeEventListener('mousedown', _0x2fcax36, !1), _0x2fcax2c.removeEventListener('mouseup', _0x2fcax30, !1), _0x2fcax2c.removeEventListener('touchstart', touchHandler, !1), _0x2fcax2c.removeEventListener('touchmove', touchHandler, !1)
                }
            }
            return _0x2fcax2f(_0x2fcax42, [{
                key: 'pressed',
                value: function() {
                    return this.up || this.down || this.left || this.right
                }
            }, {
                key: 'onKeyChange',
                value: function(_0x2fcax2c, _0x2fcax1f) {
                    if (_0x2fcax2c.target === document.body) {
                        switch (_0x2fcax2c.keyCode) {
                            case 38:
                                ;
                            case 87:
                                this.up = _0x2fcax1f;
                                break;
                            case 40:
                                ;
                            case 83:
                                this.down = _0x2fcax1f;
                                break;
                            case 37:
                                ;
                            case 65:
                                this.left = _0x2fcax1f;
                                break;
                            case 39:
                                ;
                            case 68:
                                this.right = _0x2fcax1f;
                                break;
                            case 67:
                                _0x2fcax1f || this.keyboardModeSwitch.switch()
                        };
                        this.modifiers.shift = _0x2fcax2c.shiftKey, this.modifiers.ctrl = _0x2fcax2c.ctrlKey, this.modifiers.alt = _0x2fcax2c.altKey, this.modifiers.meta = _0x2fcax2c.metaKey
                    }
                }
            }, {
                key: 'onMouseChange',
                value: function(_0x2fcax2c, _0x2fcax1f) {
                    switch (_0x2fcax2c.button) {
                        case 0:
                            this.buttons.left = _0x2fcax1f;
                            break;
                        case 1:
                            this.buttons.middle = _0x2fcax1f;
                            break;
                        case 2:
                            this.buttons.right = _0x2fcax1f
                    }
                }
            }]), _0x2fcax42
        }(),
        _0x2fcax52 = {
            baseRadius: 30,
            baseCount: 50,
            minScale: 3,
            maxScale: 5,
            trackWidth: 8,
            unitSpeed: 90,
            spawnTimeout: 3e3,
            prepareCounter: 1e3,
            baseHeight: 2
        },
        _0x2fcax53 = function(_0x2fcax2c, _0x2fcax1f, _0x2fcax2e) {
            _0x2fcax2c.fillStyle = _0x2fcax2e, _0x2fcax2c.fill(_0x2fcax1f)
        },
        _0x2fcax54 = function(_0x2fcax2c, _0x2fcax1f, _0x2fcax2e, _0x2fcax1e, _0x2fcax34) {
            var _0x2fcax35 = _0x2fcax1f.polygon.path;
            _0x2fcax2c.fillStyle = _0x2fcax1e, _0x2fcax2c.fill(_0x2fcax35)
        },
        _0x2fcax55 = function(_0x2fcax2c, _0x2fcax1f, _0x2fcax2e, _0x2fcax1e, _0x2fcax34, _0x2fcax35) {
            var _0x2fcax36 = _0x2fcax52.trackWidth;
            _0x2fcax2e.polyline.segments.length && (_0x2fcax2c.lineWidth = _0x2fcax36 + (_0x2fcax34 ? 2 : 0), _0x2fcax2c.strokeStyle = _0x2fcax1f, _0x2fcax2c.stroke(_0x2fcax2e.polyline.path))
        },
        _0x2fcax56 = ((_0x2fcax34 = new Path2D)['moveTo'](-24, -24), _0x2fcax34.lineTo(-8, -8), _0x2fcax34.lineTo(0, -24), _0x2fcax34.lineTo(8, -8), _0x2fcax34.lineTo(24, -24), _0x2fcax34.lineTo(16, 8), _0x2fcax34.lineTo(-16, 8), _0x2fcax34.closePath(), _0x2fcax34),
        _0x2fcax57 = ((_0x2fcax35 = new Path2D)['moveTo'](0, -14), _0x2fcax35.lineTo(10, -12), _0x2fcax35.lineTo(14, -6), _0x2fcax35.lineTo(12, 4), _0x2fcax35.lineTo(8, 6), _0x2fcax35.lineTo(6, 12), _0x2fcax35.lineTo(0, 14), _0x2fcax35.lineTo(-6, 12), _0x2fcax35.lineTo(-8, 6), _0x2fcax35.lineTo(-12, 4), _0x2fcax35.lineTo(-14, -6), _0x2fcax35.lineTo(-10, -12), _0x2fcax35.closePath(), _0x2fcax35.arc(-6, -2, 4, 0, 2 * Math.PI, !0), _0x2fcax35.closePath(), _0x2fcax35.arc(6, -2, 4, 0, 2 * Math.PI, !0), _0x2fcax35.closePath(), _0x2fcax35.moveTo(0, 2), _0x2fcax35.lineTo(-4, 6), _0x2fcax35.lineTo(0, 8), _0x2fcax35.lineTo(4, 6), _0x2fcax35.closePath(), _0x2fcax35),
        _0x2fcax58 = function(_0x2fcax2c, _0x2fcax1f, _0x2fcax2e) {
            var _0x2fcax1e = _0x2fcax52.trackWidth;
            if (_0x2fcax2e.image) {
                var _0x2fcax34 = _0x2fcax2e.image.naturalWidth || _0x2fcax2e.image.width,
                    _0x2fcax35 = _0x2fcax2e.image.naturalHeight || _0x2fcax2e.image.height,
                    _0x2fcax36 = _0x2fcax1e * _0x2fcax1f.skin.avatar.scale * _0x2fcax2e.scale / _0x2fcax34;
                _0x2fcax2c.save(), _0x2fcax2c.translate(_0x2fcax1f.position.x, _0x2fcax1f.position.y - _0x2fcax52.baseHeight * _0x2fcax2e.level), _0x2fcax2c.rotate(_0x2fcax1f.direction + Math.PI / 2), _0x2fcax2c.translate((_0x2fcax1f.skin.avatar.x + _0x2fcax2e.x) * _0x2fcax1e, (_0x2fcax1f.skin.avatar.y + _0x2fcax2e.y) * _0x2fcax1e);
                var _0x2fcax30 = 0;
                if ('target' === _0x2fcax2e.direction) {
                    var _0x2fcax31 = _0x2fcax1f.target.clone()['sub'](_0x2fcax1f.position);
                    _0x2fcax30 += Math.atan2(_0x2fcax31.y, _0x2fcax31.x) - _0x2fcax1f.direction
                };
                'billboard' === _0x2fcax2e.direction && (_0x2fcax30 += -_0x2fcax1f.direction - Math.PI / 2), _0x2fcax2e.rotation && (_0x2fcax30 += 0.0174533 * _0x2fcax2e.rotation), _0x2fcax30 && _0x2fcax2c.rotate(_0x2fcax30), _0x2fcax2c.drawImage(_0x2fcax2e.image, _0x2fcax34 * _0x2fcax36 * -_0x2fcax2e.pivot.x, _0x2fcax35 * _0x2fcax36 * -_0x2fcax2e.pivot.y, _0x2fcax34 * _0x2fcax36, _0x2fcax35 * _0x2fcax36), _0x2fcax2c.restore()
            }
        },
        _0x2fcax59 = function() {
            function _0x2fcax2e(_0x2fcax2c, _0x2fcax1f) {
                _0x2fcax2d(this, _0x2fcax2e), this.unit = _0x2fcax2c, this.merges = [], this.polygon = new _0x2fcax4c(_0x2fcax1f), this.polygon.commit(this), this.calcSquare(), this.polygon.calcPath()
            }
            return _0x2fcax2f(_0x2fcax2e, [{
                key: 'calcPath',
                value: function() {
                    this.path = new Path2D;
                    var _0x2fcax2c = this.polygon.segments,
                        _0x2fcax1f = _0x2fcax2c.length,
                        _0x2fcax2e = _0x2fcax2c[0]['start'];
                    this.path.moveTo(_0x2fcax2e.x, _0x2fcax2e.y);
                    for (var _0x2fcax1e = 1; _0x2fcax1e < _0x2fcax1f; _0x2fcax1e++) {
                        var _0x2fcax34 = _0x2fcax2c[_0x2fcax1e]['start'];
                        this.path.lineTo(_0x2fcax34.x, _0x2fcax34.y)
                    };
                    return this.path.closePath(), this.path
                }
            }, {
                key: 'calcSquare',
                value: function() {
                    this.square = this.polygon.square()
                }
            }, {
                key: 'remove',
                value: function() {
                    this.polygon.remove()
                }
            }, {
                key: 'handleIntersect',
                value: function(_0x2fcax2c, _0x2fcax1f, _0x2fcax2e, _0x2fcax1e) {
                    _0x2fcax1f === this.unit ? this.handleSelfIntersect(_0x2fcax2c, _0x2fcax1f, _0x2fcax2e, _0x2fcax1e) : this.handleEnemyIntersect(_0x2fcax2c, _0x2fcax1f, _0x2fcax2e, _0x2fcax1e)
                }
            }, {
                key: 'handleSelfIntersect',
                value: function(_0x2fcax2c, _0x2fcax1f, _0x2fcax2e, _0x2fcax1e) {
                    if (!_0x2fcax2c.overlay) {
                        var _0x2fcax34 = _0x2fcax2c.point,
                            _0x2fcax35 = _0x2fcax2c.segment;
                        if (_0x2fcax1f.in === this) {
                            if (_0x2fcax2c.zn < 0) {
                                return
                            };
                            if (_0x2fcax34.equal(_0x2fcax2e.end)) {
                                return
                            };
                            this.polygon.insert(_0x2fcax35, _0x2fcax34), _0x2fcax1f.track.polyline.add(_0x2fcax34), _0x2fcax1f.in = null
                        } else {
                            if (0 < _0x2fcax2c.zn) {
                                return
                            };
                            if (_0x2fcax34.equal(_0x2fcax2e.start)) {
                                return
                            };
                            if (_0x2fcax1f.in) {
                                return
                            };
                            this.polygon.insert(_0x2fcax35, _0x2fcax34), _0x2fcax1f.track.polyline.add(_0x2fcax34), _0x2fcax1f.track.polyline.end && _0x2fcax1e.handleReturn(_0x2fcax1f), _0x2fcax1f.in = this, _0x2fcax1f.track.remove()
                        }
                    }
                }
            }, {
                key: 'handleEnemyIntersect',
                value: function(_0x2fcax2c, _0x2fcax1f, _0x2fcax2e, _0x2fcax1e) {
                    var _0x2fcax34 = _0x2fcax2c.point,
                        _0x2fcax35 = _0x2fcax2c.segment;
                    if (_0x2fcax1f.in === this) {
                        if (_0x2fcax2c.zn < 0) {
                            return
                        };
                        this.polygon.insert(_0x2fcax35, _0x2fcax34), _0x2fcax1f.track.polyline.add(_0x2fcax34), _0x2fcax1f.track.intersect(_0x2fcax2c, this, !1), _0x2fcax1f.in = null
                    } else {
                        if (0 < _0x2fcax2c.zn) {
                            return
                        };
                        if (_0x2fcax2c.overlay) {
                            return
                        };
                        if (_0x2fcax34.equal(_0x2fcax2e.end)) {
                            return
                        };
                        if (_0x2fcax1f.in) {
                            return
                        };
                        this.polygon.insert(_0x2fcax35, _0x2fcax34), _0x2fcax1f.track.polyline.add(_0x2fcax34), _0x2fcax1f.track.intersect(_0x2fcax2c, this, !0), _0x2fcax1f.in = this
                    }
                }
            }]), _0x2fcax2e
        }(),
        _0x2fcax5a = function() {
            function _0x2fcax1f(_0x2fcax2c) {
                _0x2fcax2d(this, _0x2fcax1f), this.owner = _0x2fcax2c || null, this.start = null, this.end = null, this.segments = [], this.bounds = {
                    left: 1 / 0,
                    right: -1 / 0,
                    top: 1 / 0,
                    bottom: -1 / 0
                }, this.path = new Path2D
            }
            return _0x2fcax2f(_0x2fcax1f, [{
                key: 'commit',
                value: function(_0x2fcax1f) {
                    this.segments.forEach(function(_0x2fcax2c) {
                        return _0x2fcax2c.commit(_0x2fcax1f)
                    })
                }
            }, {
                key: 'remove',
                value: function() {
                    this.segments.forEach(function(_0x2fcax2c) {
                        return _0x2fcax2c.remove()
                    })
                }
            }, {
                key: 'reverse',
                value: function() {
                    if (this.segments.reverse()['forEach'](function(_0x2fcax2c) {
                            return _0x2fcax2c.reverse()
                        }), this.end) {
                        var _0x2fcax2c = this.start;
                        this.start = this.end, this.end = _0x2fcax2c
                    };
                    return this
                }
            }, {
                key: 'clone',
                value: function() {
                    var _0x2fcax2c = new _0x2fcax1f;
                    return _0x2fcax2c.segments = this.segments.map(function(_0x2fcax2c) {
                        return _0x2fcax2c.clone()
                    }), _0x2fcax2c.start = this.start, _0x2fcax2c.end = this.end, Object.assign(_0x2fcax2c.bounds, this.bounds), _0x2fcax2c
                }
            }, {
                key: 'updateBounds',
                value: function(_0x2fcax2c) {
                    var _0x2fcax1f = _0x2fcax2c.x,
                        _0x2fcax2e = _0x2fcax2c.y;
                    this.bounds.left = Math.min(this.bounds.left, _0x2fcax1f), this.bounds.right = Math.max(this.bounds.right, _0x2fcax1f), this.bounds.top = Math.min(this.bounds.top, _0x2fcax2e), this.bounds.bottom = Math.max(this.bounds.bottom, _0x2fcax2e)
                }
            }, {
                key: 'add',
                value: function(_0x2fcax2c) {
                    var _0x2fcax1f = this.end || this.start;
                    if (!_0x2fcax1f || !_0x2fcax1f.equal(_0x2fcax2c)) {
                        var _0x2fcax2e = _0x2fcax2c.x,
                            _0x2fcax1e = _0x2fcax2c.y;
                        if (this.end) {
                            return this.segments.push(new _0x2fcax4a(this.end, _0x2fcax2c)['commit'](this)), this.end = _0x2fcax2c, this.updateBounds(_0x2fcax2c), void(this.path.lineTo(_0x2fcax2e, _0x2fcax1e))
                        };
                        if (this.start) {
                            return this.segments.push(new _0x2fcax4a(this.start, _0x2fcax2c)['commit'](this)), this.end = _0x2fcax2c, this.updateBounds(_0x2fcax2c), void(this.path.lineTo(_0x2fcax2e, _0x2fcax1e))
                        };
                        this.start = _0x2fcax2c, this.updateBounds(_0x2fcax2c), this.path.moveTo(_0x2fcax2e, _0x2fcax1e)
                    }
                }
            }, {
                key: 'points',
                value: function() {
                    var _0x2fcax2c = this.segments.map(function(_0x2fcax2c) {
                        return _0x2fcax2c.start
                    });
                    return this.end && _0x2fcax2c.push(this.end), _0x2fcax2c
                }
            }]), _0x2fcax1f
        }(),
        _0x2fcax5b = function() {
            function _0x2fcax1f(_0x2fcax2c) {
                _0x2fcax2d(this, _0x2fcax1f), this.polyline = new _0x2fcax5a(this), this.unit = _0x2fcax2c, this.intersections = [], this.isTrack = !0
            }
            return _0x2fcax2f(_0x2fcax1f, [{
                key: 'intersect',
                value: function(_0x2fcax1f, _0x2fcax2c, _0x2fcax2e) {
                    var _0x2fcax1e = this.intersections.find(function(_0x2fcax2c) {
                        return _0x2fcax2c.point.equal(_0x2fcax1f.point)
                    });
                    _0x2fcax1e ? _0x2fcax1e.intersections.push({
                        intersection: _0x2fcax1f,
                        base: _0x2fcax2c,
                        enter: _0x2fcax2e
                    }) : this.intersections.push({
                        point: _0x2fcax1f.point,
                        intersections: [{
                            intersection: _0x2fcax1f,
                            base: _0x2fcax2c,
                            enter: _0x2fcax2e
                        }]
                    })
                }
            }, {
                key: 'remove',
                value: function() {
                    this.polyline.remove(), this.polyline = new _0x2fcax5a(this), this.intersections = []
                }
            }, {
                key: 'handleIntersect',
                value: function(_0x2fcax2c, _0x2fcax1f, _0x2fcax2e, _0x2fcax1e) {
                    _0x2fcax1f === this.unit ? !0 !== _0x2fcax2c.overlay && _0x2fcax2c.point === this.polyline.segments[this.polyline.segments.length - 1]['end'] || (this.unit.position = _0x2fcax2c.point, _0x2fcax1e.kill(this.unit)) : _0x2fcax1e.kill(this.unit, _0x2fcax1f)
                }
            }, {
                key: 'owner',
                get: function() {}
            }]), _0x2fcax1f
        }(),
        _0x2fcax5c = function() {
            function _0x2fcax1e(_0x2fcax2c, _0x2fcax1f, _0x2fcax2e) {
                _0x2fcax2d(this, _0x2fcax1e), this.states = _0x2fcax2c, this.state = '', this.payload = _0x2fcax2e, this.context = {}, this.change(_0x2fcax1f)
            }
            return _0x2fcax2f(_0x2fcax1e, [{
                key: 'change',
                value: function(_0x2fcax2c) {
                    var _0x2fcax1f = this.states[this.state];
                    _0x2fcax1f && _0x2fcax1f.leave && (this.context = _0x2fcax1f.leave(this.payload, this.context) || this.context);
                    var _0x2fcax2e = this.states[_0x2fcax2c];
                    _0x2fcax2e && (this.state = _0x2fcax2c, this.context = _0x2fcax2e.enter && _0x2fcax2e.enter(this.payload, this.context) || this.context, this.update())
                }
            }, {
                key: 'update',
                value: function() {
                    var _0x2fcax2c = this.states[this.state],
                        _0x2fcax1f = _0x2fcax2c && _0x2fcax2c.update(this.payload, this.context);
                    _0x2fcax1f && this.change(_0x2fcax1f)
                }
            }]), _0x2fcax1e
        }(),
        _0x2fcax5d = {
            idle: {
                update: function() {
                    return Math.random() < 0.25 ? 'cut' : 'exit'
                }
            },
            cut: {
                enter: function(_0x2fcax2c) {
                    var _0x2fcax1f = _0x2fcax2c.position.clone()['sub'](_0x2fcax2c.game.space.center),
                        _0x2fcax2e = _0x2fcax1f.magnitude(),
                        _0x2fcax1e = new _0x2fcax4a(_0x2fcax2c.position, _0x2fcax1f.normalize()['mulScalar'](_0x2fcax2c.game.border.radius - _0x2fcax2e + 10)['add'](_0x2fcax2c.position)),
                        _0x2fcax34 = _0x2fcax2c.base.polygon.intersections(_0x2fcax1e),
                        _0x2fcax35 = {};
                    return _0x2fcax35.exitPoint = _0x2fcax34.sort(function(_0x2fcax2c, _0x2fcax1f) {
                        return _0x2fcax2c.distance - _0x2fcax1f.distance
                    })[0]['point'], _0x2fcax35
                },
                update: function(_0x2fcax2c, _0x2fcax1f) {
                    if (_0x2fcax2c.in !== _0x2fcax2c.base) {
                        return 'capture'
                    };
                    var _0x2fcax2e = _0x2fcax2c.position.distance(_0x2fcax2c.game.space.center);
                    if (_0x2fcax2c.game.border.radius - _0x2fcax2e < 1) {
                        return 'idle'
                    };
                    _0x2fcax2c.target = _0x2fcax1f.exitPoint
                }
            },
            exit: {
                enter: function(_0x2fcax2c) {
                    var _0x2fcax1f, _0x2fcax2e = {},
                        _0x2fcax1e = 1 / 0,
                        _0x2fcax34 = _0x2fcax2c.base.polygon.segments.length,
                        _0x2fcax35 = _0x2fcax52.unitSpeed;
                    for (_0x2fcax2e.minDistance = _0x2fcax35; void(0) === _0x2fcax1f;) {
                        for (var _0x2fcax36 = 0; _0x2fcax36 < 1; _0x2fcax36++) {
                            var _0x2fcax30 = ~~(Math.random() * _0x2fcax34),
                                _0x2fcax31 = _0x2fcax2c.base.polygon.segments[_0x2fcax30]['start']['distance'](_0x2fcax2c.position);
                            _0x2fcax31 < _0x2fcax1e && _0x2fcax35 < _0x2fcax31 && (_0x2fcax1e = _0x2fcax31, _0x2fcax1f = _0x2fcax30)
                        };
                        _0x2fcax35 *= 0.75
                    };
                    return _0x2fcax2e.exitPoint = _0x2fcax2c.base.polygon.segments[_0x2fcax1f]['start'], _0x2fcax2e
                },
                update: function(_0x2fcax1f, _0x2fcax2c) {
                    if (_0x2fcax1f.in !== _0x2fcax1f.base) {
                        return 'capture'
                    };
                    var _0x2fcax2e = _0x2fcax1f.base.polygon.segments.length,
                        _0x2fcax1e = _0x2fcax2c.minDistance,
                        _0x2fcax34 = ~~(Math.random() * _0x2fcax2e),
                        _0x2fcax35 = _0x2fcax1f.base.polygon.segments[_0x2fcax34]['start'],
                        _0x2fcax36 = _0x2fcax35.distance(_0x2fcax1f.position),
                        _0x2fcax30 = _0x2fcax2c.exitPoint.distance(_0x2fcax1f.position);
                    _0x2fcax1e < _0x2fcax36 && _0x2fcax36 < _0x2fcax30 ? _0x2fcax2c.exitPoint = _0x2fcax35 : (Object.values(_0x2fcax2c.exitPoint.segments)['some'](function(_0x2fcax2c) {
                        return _0x2fcax2c && _0x2fcax2c.shape === _0x2fcax1f.base.polygon
                    }) || (_0x2fcax2c.exitPoint = _0x2fcax35), _0x2fcax1f.target && _0x2fcax1f.target.distance(_0x2fcax1f.game.space.center) > _0x2fcax1f.game.border.radius - 1 && (_0x2fcax2c.exitPoint = _0x2fcax35)), _0x2fcax1f.target = _0x2fcax2c.exitPoint
                }
            },
            capture: {
                enter: function(_0x2fcax1e, _0x2fcax2c) {
                    var _0x2fcax1f = _0x2fcax2c.exitPoint,
                        _0x2fcax2e = _0x2fcax52.unitSpeed,
                        _0x2fcax34 = _0x2fcax1e.base.polygon.segments,
                        _0x2fcax35 = (1 + Math.random()) * _0x2fcax2e,
                        _0x2fcax36 = Math.sign(Math.random() - 0.5) || 1,
                        _0x2fcax30 = 0,
                        _0x2fcax31 = _0x2fcax34.findIndex(function(_0x2fcax2c) {
                            return _0x2fcax2c.start.equal(_0x2fcax1f)
                        });
                    if (-1 === _0x2fcax31) {
                        var _0x2fcax2f = 1 / 0,
                            _0x2fcax32 = 0;
                        if (_0x2fcax34.forEach(function(_0x2fcax2c, _0x2fcax1f) {
                                var _0x2fcax2e = _0x2fcax2c.start.distance2(_0x2fcax1e.position);
                                _0x2fcax2e < _0x2fcax2f && (_0x2fcax2f = _0x2fcax2e, _0x2fcax32 = _0x2fcax1f)
                            }), _0x2fcax1f = _0x2fcax34[_0x2fcax32]['start'], _0x2fcax2c.exitPoint = _0x2fcax1f, -1 === (_0x2fcax31 = _0x2fcax34.findIndex(function(_0x2fcax2c) {
                                return _0x2fcax2c.start.equal(_0x2fcax1f)
                            }))) {
                            throw console.log('exitPoint', _0x2fcax1f), new Error('Ð¡ÐµÐ³Ð¼ÐµÐ½Ñ‚ Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½. Ð‘Ð°Ð³ Ð² Ð³Ñ€ÑÐ·Ð½Ð¾Ð¼ Ñ…Ð°ÐºÐµ!!!')
                        }
                    };
                    for (var _0x2fcax39 = !1; _0x2fcax30 < _0x2fcax35;) {
                        if (_0x2fcax30 = _0x2fcax34[_0x2fcax31]['start']['distance'](_0x2fcax1f), (_0x2fcax31 += _0x2fcax36) >= _0x2fcax34.length) {
                            if (_0x2fcax31 = 0, _0x2fcax39) {
                                break
                            };
                            _0x2fcax39 = !0
                        };
                        if (_0x2fcax31 < 0) {
                            if (_0x2fcax31 = _0x2fcax34.length - 1, _0x2fcax39) {
                                break
                            };
                            _0x2fcax39 = !0
                        }
                    };
                    var _0x2fcax3a = _0x2fcax34[_0x2fcax31]['start'],
                        _0x2fcax42 = _0x2fcax3a.clone()['sub'](_0x2fcax1f),
                        _0x2fcax2d = _0x2fcax1f.clone()['add'](_0x2fcax42.clone()['mulScalar'](0.5)),
                        _0x2fcax44 = (0.5 + Math.random()) * _0x2fcax2e,
                        _0x2fcax45 = _0x2fcax42.clone()['rotate'](-_0x2fcax36 * Math.PI / 2)['normalize']()['mulScalar'](_0x2fcax44),
                        _0x2fcax46 = _0x2fcax2d.add(_0x2fcax45);
                    _0x2fcax1e.target = _0x2fcax46, _0x2fcax2c.targets = [_0x2fcax3a], _0x2fcax2c.sign = _0x2fcax36, _0x2fcax2c.returnPoint = _0x2fcax3a
                },
                update: function(_0x2fcax1f, _0x2fcax2c) {
                    if (_0x2fcax1f.in === _0x2fcax1f.base) {
                        return 'idle'
                    };
                    if (!Object.values(_0x2fcax2c.returnPoint.segments)['some'](function(_0x2fcax2c) {
                            return _0x2fcax2c && _0x2fcax2c.shape === _0x2fcax1f.base.polygon
                        })) {
                        return 'back'
                    };
                    if (_0x2fcax1f.game.units.some(function(_0x2fcax2c) {
                            return _0x2fcax2c !== _0x2fcax1f && _0x2fcax1f.position.distance(_0x2fcax2c.position) < _0x2fcax52.unitSpeed
                        })) {
                        return 'back'
                    };
                    if (_0x2fcax1f.target.distance(_0x2fcax1f.game.space.center) > _0x2fcax1f.game.border.radius + 18) {
                        return 'back'
                    };
                    if (_0x2fcax1f.position.distance2(_0x2fcax1f.target) < 400) {
                        var _0x2fcax2e = _0x2fcax2c.targets.shift();
                        if (!_0x2fcax2e) {
                            return 'back'
                        };
                        _0x2fcax1f.target = _0x2fcax2e
                    }
                }
            },
            back: {
                enter: function(_0x2fcax1e, _0x2fcax2c) {
                    var _0x2fcax1f = _0x2fcax1e.base.polygon.segments,
                        _0x2fcax2e = _0x2fcax2c.exitPoint,
                        _0x2fcax34 = _0x2fcax2c.sign,
                        _0x2fcax35 = 1 / 0,
                        _0x2fcax36 = 0;
                    _0x2fcax1f.forEach(function(_0x2fcax2c, _0x2fcax1f) {
                        var _0x2fcax2e = _0x2fcax2c.start.distance2(_0x2fcax1e.position);
                        _0x2fcax2e < _0x2fcax35 && (_0x2fcax35 = _0x2fcax2e, _0x2fcax36 = _0x2fcax1f)
                    });
                    var _0x2fcax30 = _0x2fcax1f[_0x2fcax36]['start'];
                    if (_0x2fcax2e) {
                        for (; _0x2fcax30.distance2(_0x2fcax2e) < 100;) {
                            (_0x2fcax36 += _0x2fcax34) >= _0x2fcax1f.length && (_0x2fcax36 = 0), _0x2fcax36 < 0 && (_0x2fcax36 = _0x2fcax1f.length - 1), _0x2fcax30 = _0x2fcax1f[_0x2fcax36]['start']
                        }
                    };
                    _0x2fcax1e.target = _0x2fcax30
                },
                update: function(_0x2fcax2c, _0x2fcax1f) {
                    if (_0x2fcax2c.in === _0x2fcax2c.base) {
                        return 'idle'
                    }
                }
            }
        },
        _0x2fcax5e = function() {
            function _0x2fcax34(_0x2fcax2c, _0x2fcax1f, _0x2fcax2e, _0x2fcax1e) {
                _0x2fcax2d(this, _0x2fcax34), this.name = _0x2fcax2c, this.direction = 0, this.position = _0x2fcax1f, this.base = new _0x2fcax59(this, _0x2fcax2e), this.skin = _0x2fcax1e, this.lastSquare = this.base.square, this.in = this.base, this.track = new _0x2fcax5b(this), this.target = null, this.respawn = !1, this.statistics = {
                    kills: 0
                }
            }
            return _0x2fcax2f(_0x2fcax34, [{
                key: 'movement',
                value: function() {
                    return this.target && this.target.clone()['sub'](this.position)['normalize']()
                }
            }, {
                key: 'speed',
                get: function() {}
            }]), _0x2fcax34
        }(),
        _0x2fcax5f = function(_0x2fcax2c) {
            function _0x2fcax35(_0x2fcax2c, _0x2fcax1f, _0x2fcax2e, _0x2fcax1e) {
                var _0x2fcax34;
                return _0x2fcax2d(this, _0x2fcax35), (_0x2fcax34 = _0x2fcax32(this, _0x2fcax30(_0x2fcax35)['call'](this, _0x2fcax2c, _0x2fcax1f, _0x2fcax2e, _0x2fcax1e)))['lastSquare'] = _0x2fcax34.base.square, _0x2fcax34
            }
            return _0x2fcax1f(_0x2fcax35, _0x2fcax5e), _0x2fcax2f(_0x2fcax35, [{
                key: 'update',
                value: function(_0x2fcax2c) {
                    this.respawn || (this.target = _0x2fcax2c.direction.clone()['mulScalar'](50)['add'](this.position))
                }
            }]), _0x2fcax35
        }(),
        _0x2fcax60 = function(_0x2fcax2c) {
            function _0x2fcax36(_0x2fcax2c, _0x2fcax1f, _0x2fcax2e, _0x2fcax1e, _0x2fcax34) {
                var _0x2fcax35;
                return _0x2fcax2d(this, _0x2fcax36), (_0x2fcax35 = _0x2fcax32(this, _0x2fcax30(_0x2fcax36)['call'](this, _0x2fcax2c, _0x2fcax2e, _0x2fcax1e, _0x2fcax34)))['targets'] = [], _0x2fcax35.game = _0x2fcax1f, _0x2fcax35.fsm = new _0x2fcax5c(_0x2fcax5d, 'exit', _0x2fcax31(_0x2fcax35)), _0x2fcax35
            }
            return _0x2fcax1f(_0x2fcax36, _0x2fcax5e), _0x2fcax2f(_0x2fcax36, [{
                key: 'update',
                value: function() {
                    this.fsm.update()
                }
            }]), _0x2fcax36
        }(),
        _0x2fcax61 = Math.cos(0),
        _0x2fcax62 = Math.sin(0),
        _0x2fcax63 = function(_0x2fcax2c) {
            var _0x2fcax1f = Math.cos(_0x2fcax2c),
                _0x2fcax2e = Math.sin(_0x2fcax2c);
            return new _0x2fcax47(_0x2fcax61 * _0x2fcax1f - _0x2fcax62 * _0x2fcax2e, _0x2fcax61 * _0x2fcax2e + _0x2fcax62 * _0x2fcax1f)
        },
        _0x2fcax64 = function() {
            function _0x2fcax32(_0x2fcax2c, _0x2fcax1f, _0x2fcax2e, _0x2fcax1e, _0x2fcax34, _0x2fcax35, _0x2fcax36, _0x2fcax30) {
                var _0x2fcax31 = this;
                if (_0x2fcax2d(this, _0x2fcax32), _0x2fcax3a = _0x2fcax52.minScale, _0x2fcax39 = _0x2fcax52.maxScale, _0x2fcax3b = _0x2fcax52.trackWidth, this.controller = new _0x2fcax51(_0x2fcax2c, _0x2fcax30), this.skinManager = _0x2fcax1e, this.nameManager = _0x2fcax36, this.space = _0x2fcax1f, this.maxUnits = _0x2fcax34, this.view = _0x2fcax2c, this.border = _0x2fcax2e, this.player = null, this.units = [], this.mouse = new _0x2fcax47, this.direction = new _0x2fcax47(1, 0), this.keyboard = !1, this.fakeMouse = null, this.labels = [], this.scale = _0x2fcax39, this.square = this.border.polygon.square(), this.gameOverCallback = _0x2fcax35, this.actived = !1, this.needSuspendSpawn = !0, this.suspendSpawn = !1, this.generateParticles = !1, this.particles = [], this.border.polygon.calcPath(), _0x2fcax2c) {
                    var _0x2fcax2f = function() {
                        _0x2fcax31.view.width = window.innerWidth, _0x2fcax31.view.height = window.innerHeight
                    };
                    window.addEventListener('resize', _0x2fcax2f, !1), _0x2fcax2f()
                };
                this.stats = {
                    fps: 0,
                    ut: 0,
                    ait: 0,
                    st: 0,
                    rt: 0
                }, this.timings = {
                    updateStartTime: 0,
                    updateEndTime: 0,
                    aiStartTime: 0,
                    aiEndTime: 0,
                    spawnStartTime: 0,
                    spawnEndTime: 0,
                    renderStartTime: 0,
                    renderEndTime: 0
                }
            }
            return _0x2fcax2f(_0x2fcax32, [{
                key: 'addPlayer',
                value: function(_0x2fcax2c) {
                    this.units.push(_0x2fcax2c), this.player = _0x2fcax2c
                }
            }, {
                key: 'addUnit',
                value: function(_0x2fcax2c) {
                    this.units.push(_0x2fcax2c)
                }
            }, {
                key: 'getspawnPosition',
                value: function(_0x2fcax2c) {
                    for (var _0x2fcax1f = this.space.center, _0x2fcax2e = this.border.radius, _0x2fcax1e = 2 * _0x2fcax52.baseRadius, _0x2fcax34 = _0x2fcax1e * (this.player ? 3 - this.player.base.square / this.square * 2 : 3), _0x2fcax35 = _0x2fcax34 * _0x2fcax34, _0x2fcax36 = _0x2fcax1f.clone()['add'](new _0x2fcax47(0, _0x2fcax2c ? _0x2fcax2e - 3 * _0x2fcax1e + Math.random() * (2 * _0x2fcax1e) : Math.random() * (_0x2fcax2e - _0x2fcax1e))['rotate'](Math.random() * Math.PI * 2)), _0x2fcax30 = 0; _0x2fcax30 < this.units.length; _0x2fcax30++) {
                        var _0x2fcax31 = this.units[_0x2fcax30];
                        if (_0x2fcax31.base.polygon.inside(_0x2fcax36)) {
                            return
                        };
                        if (_0x2fcax31.base.polygon.segments.some(function(_0x2fcax2c) {
                                return _0x2fcax36.distance2(_0x2fcax2c.start) < _0x2fcax35
                            })) {
                            return
                        };
                        if (_0x2fcax31.track.polyline.segments.some(function(_0x2fcax2c) {
                                return _0x2fcax36.distance2(_0x2fcax2c.start) < _0x2fcax35
                            })) {
                            return
                        }
                    };
                    return _0x2fcax36
                }
            }, {
                key: 'spawnBot',
                value: function(_0x2fcax2c) {
                    var _0x2fcax1f = this;
                    if (this.actived) {
                        if (this.suspendSpawn) {
                            return
                        };
                        if (this.needSuspendSpawn) {
                            return this.suspendSpawn = !0, void(setTimeout(function() {
                                _0x2fcax1f.needSuspendSpawn = !1, _0x2fcax1f.suspendSpawn = !1
                            }, (1 + Math.random()) * _0x2fcax52.spawnTimeout))
                        }
                    };
                    if (this.nameManager.pool.length) {
                        var _0x2fcax2e = this.getspawnPosition(_0x2fcax2c);
                        _0x2fcax2e && (this.addUnit(new _0x2fcax60(this.nameManager.get(), this, _0x2fcax2e, _0x2fcax45(_0x2fcax2e.x, _0x2fcax2e.y, _0x2fcax52.baseCount, _0x2fcax52.baseRadius), this.skinManager.get())), this.needSuspendSpawn = !0, this.suspendSpawn = !1)
                    } else {
                        this.nameManager.request()
                    }
                }
            }, {
                key: 'spawnPlayer',
                value: function(_0x2fcax2c, _0x2fcax1f) {
                    for (var _0x2fcax2e, _0x2fcax1e = 0; !_0x2fcax2e;) {
                        50 < ++_0x2fcax1e && (_0x2fcax1e = 0, this.units.length && this.kill(this.units[0])), _0x2fcax2e = this.getspawnPosition()
                    };
                    if (_0x2fcax2e) {
                        var _0x2fcax34 = this.skinManager.get(_0x2fcax1f, !0);
                        if (!_0x2fcax34) {
                            var _0x2fcax35 = this.units.find(function(_0x2fcax2c) {
                                return _0x2fcax2c.skin.name === _0x2fcax1f
                            });
                            _0x2fcax35 ? (_0x2fcax34 = _0x2fcax35.skin, _0x2fcax35.skin = this.skinManager.get()) : _0x2fcax34 = this.skinManager.get('', !0)
                        };
                        var _0x2fcax6f = Math.floor(Math.random() * (500 - 1) + 1);
                        var _0x2fcax70 = $('#nickname')['val']();
                        if (_0x2fcax70 == '') {
                            _0x2fcax70 = 'paperio7.com_' + _0x2fcax6f
                        };
                        var _0x2fcax36 = new _0x2fcax5f(_0x2fcax2c || _0x2fcax70, _0x2fcax2e, _0x2fcax45(_0x2fcax2e.x, _0x2fcax2e.y, _0x2fcax52.baseCount, _0x2fcax52.baseRadius), _0x2fcax34);
                        this.addPlayer(_0x2fcax36), this.scale = _0x2fcax39 - _0x2fcax36.base.square / this.square * (_0x2fcax39 - _0x2fcax3a), this.startTime = Date.now()
                    }
                }
            }, {
                key: 'genKillParticles',
                value: function(_0x2fcax34, _0x2fcax2c, _0x2fcax35) {
                    var _0x2fcax36 = this;
                    if (this.generateParticles) {
                        var _0x2fcax30 = 0;
                        _0x2fcax2c.forEach(function(_0x2fcax2c) {
                            if (5 < (_0x2fcax30 += _0x2fcax2c.vector.magnitude())) {
                                _0x2fcax30 = 0;
                                var _0x2fcax1f = _0x2fcax2c.vector.clone()['normalize']()['rotate'](Math.sign(Math.random() - 0.5) * Math.PI / 2)['mulScalar'](25 + 100 * Math.random());
                                0.25 < Math.random() && _0x2fcax1f.mulScalar(0.1);
                                var _0x2fcax2e = (_0x2fcax35 ? 3 : 1) * (1 + 0.5 * Math.random()),
                                    _0x2fcax1e = new _0x2fcax50(_0x2fcax34.skin.colors.particles[~~(Math.random() * _0x2fcax34.skin.colors.particles.length)], _0x2fcax2c.start.clone(), _0x2fcax1f, 2 * Math.PI * (1 + Math.random()) * Math.sign(Math.random() - 0.5 || 1), _0x2fcax2e, 0.9 * -_0x2fcax2e, 1e3);
                                _0x2fcax36.particles.push(_0x2fcax1e)
                            }
                        })
                    }
                }
            }, {
                key: 'gameOver',
                value: function(_0x2fcax2c) {
                    var _0x2fcax1f = this,
                        _0x2fcax34 = 1 / 0,
                        _0x2fcax35 = 0,
                        _0x2fcax36 = 1 / 0,
                        _0x2fcax30 = 0;
                    this.player.base.polygon.segments.forEach(function(_0x2fcax2c) {
                        var _0x2fcax1f = _0x2fcax2c.start,
                            _0x2fcax2e = _0x2fcax1f.x,
                            _0x2fcax1e = _0x2fcax1f.y;
                        _0x2fcax34 = Math.min(_0x2fcax34, _0x2fcax2e), _0x2fcax35 = Math.max(_0x2fcax35, _0x2fcax2e), _0x2fcax36 = Math.min(_0x2fcax36, _0x2fcax1e), _0x2fcax30 = Math.max(_0x2fcax30, _0x2fcax1e)
                    });
                    var _0x2fcax2e = _0x2fcax35 - _0x2fcax34,
                        _0x2fcax1e = _0x2fcax30 - _0x2fcax36,
                        _0x2fcax31 = Math.max(_0x2fcax2e, _0x2fcax1e),
                        _0x2fcax2f = new _0x2fcax47(_0x2fcax34 + _0x2fcax2e / 2, _0x2fcax36 + _0x2fcax1e / 2),
                        _0x2fcax32 = 475 / _0x2fcax31,
                        _0x2fcax39 = document.createElement('canvas');
                    _0x2fcax39.width = 500, _0x2fcax39.height = 500;
                    var _0x2fcax3a = _0x2fcax39.getContext('2d');
                    _0x2fcax3a.scale(_0x2fcax32, _0x2fcax32), _0x2fcax3a.translate(250 / _0x2fcax32 - _0x2fcax2f.x, 250 / _0x2fcax32 - _0x2fcax2f.y), _0x2fcax3a.translate(0, 5 / _0x2fcax32), _0x2fcax53(_0x2fcax3a, this.player.base.polygon.path, this.player.skin.colors.back), _0x2fcax3a.translate(0, -10 / _0x2fcax32), _0x2fcax53(_0x2fcax3a, this.player.base.polygon.path, this.player.skin.pattern || this.player.skin.colors.main);
                    var _0x2fcax42 = _0x2fcax39.toDataURL('image/png'),
                        _0x2fcax2d = {
                            game: this,
                            score: _0x2fcax2c ? 100 : this.player.base.square / this.square * 100,
                            best: this.best,
                            time: Date.now() - this.startTime,
                            kills: this.player.statistics.kills,
                            image: _0x2fcax42,
                            win: _0x2fcax2c
                        };
                    setTimeout(function() {
                        _0x2fcax2c && _0x2fcax1f.kill(_0x2fcax1f.player, void(0), _0x2fcax2c), _0x2fcax1f.player = null, _0x2fcax1f.gameOverCallback && _0x2fcax1f.gameOverCallback(_0x2fcax2d)
                    }, 1e3)
                }
            }, {
                key: 'kill',
                value: function(_0x2fcax1f, _0x2fcax2c, _0x2fcax2e) {
                    _0x2fcax1f.death = !0, this.skinManager && this.skinManager.release(_0x2fcax1f.skin), this.units.forEach(function(_0x2fcax2c) {
                        _0x2fcax2c !== _0x2fcax1f && _0x2fcax2c.in === _0x2fcax1f.base && (_0x2fcax2c.in = null)
                    }), this.genKillParticles(_0x2fcax1f, _0x2fcax1f.track.polyline.segments), this.genKillParticles(_0x2fcax1f, _0x2fcax1f.base.polygon.segments, !0), _0x2fcax1f.track.remove(), _0x2fcax1f.base.remove();
                    var _0x2fcax1e = this.units.findIndex(function(_0x2fcax2c) {
                        return _0x2fcax2c === _0x2fcax1f
                    });
                    this.units.splice(_0x2fcax1e, 1), _0x2fcax2c && (_0x2fcax2c.statistics.kills++, _0x2fcax2c === this.player && this.labels.push(new _0x2fcax4e('Kill', _0x2fcax1f.skin.colors.main, _0x2fcax2c, new _0x2fcax47(0, -35), new _0x2fcax47(0, -10), 1e3, !0))), _0x2fcax2e || _0x2fcax1f !== this.player || this.gameOver()
                }
            }, {
                key: 'getMovement',
                value: function(_0x2fcax2c, _0x2fcax1f) {
                    var _0x2fcax2e = [],
                        _0x2fcax1e = _0x2fcax1f.movement();
                    if (!_0x2fcax1e) {
                        return _0x2fcax2e
                    };
                    _0x2fcax1e.mulScalar(spd * _0x2fcax2c / 1e3);
                    var _0x2fcax34 = _0x2fcax63(_0x2fcax1f.direction),
                        _0x2fcax35 = Math.atan2(_0x2fcax34.x * _0x2fcax1e.y - _0x2fcax1e.x * _0x2fcax34.y, _0x2fcax34.dot(_0x2fcax1e)),
                        _0x2fcax36 = 2 * Math.PI * _0x2fcax2c / 1e3;
                    Math.abs(_0x2fcax35) > _0x2fcax36 && (_0x2fcax35 = _0x2fcax36 * Math.sign(_0x2fcax35)), _0x2fcax1f.direction += _0x2fcax35;
                    for (var _0x2fcax30 = _0x2fcax63(_0x2fcax1f.direction)['mulScalar'](spd * _0x2fcax2c / 1e3), _0x2fcax31 = new _0x2fcax4a(_0x2fcax1f.position, _0x2fcax1f.position.clone()['add'](_0x2fcax30)), _0x2fcax2f = this.border.intersections(_0x2fcax31); _0x2fcax2f.length;) {
                        var _0x2fcax32 = void(0),
                            _0x2fcax39 = _0x2fcax31.vector;
                        if (2 === _0x2fcax2f.length) {
                            var _0x2fcax3a = _0x2fcax2f[0]['segment']['vector'];
                            _0x2fcax32 = 0 < Math.atan2(_0x2fcax39.x * _0x2fcax3a.y - _0x2fcax3a.x * _0x2fcax39.y, _0x2fcax39.dot(_0x2fcax3a)) ? _0x2fcax2f[0] : _0x2fcax2f[1]
                        } else {
                            _0x2fcax32 = _0x2fcax2f[0]
                        };
                        var _0x2fcax42 = _0x2fcax32,
                            _0x2fcax2d = _0x2fcax42.segment,
                            _0x2fcax44 = _0x2fcax42.point,
                            _0x2fcax45 = _0x2fcax2d.vector;
                        if (Math.atan2(_0x2fcax39.x * _0x2fcax45.y - _0x2fcax45.x * _0x2fcax39.y, _0x2fcax39.dot(_0x2fcax45)) < 0) {
                            break
                        };
                        if (!_0x2fcax3d(_0x2fcax32.distance)) {
                            var _0x2fcax46 = new _0x2fcax4a(_0x2fcax31.start, _0x2fcax44);
                            _0x2fcax2e.push(_0x2fcax46)
                        };
                        var _0x2fcax48 = (_0x2fcax31 = new _0x2fcax4a(_0x2fcax44, _0x2fcax31.end))['vector'],
                            _0x2fcax3c = _0x2fcax45.clone()['normalize']()['mulScalar'](_0x2fcax48.dot(_0x2fcax45) / _0x2fcax45.magnitude());
                        _0x2fcax31 = new _0x2fcax4a(_0x2fcax44, _0x2fcax44.clone()['add'](_0x2fcax3c)), _0x2fcax2f = this.border.intersections(_0x2fcax31)
                    };
                    return _0x2fcax2e.push(_0x2fcax31), _0x2fcax2e
                }
            }, {
                key: 'update',
                value: function(_0x2fcax2e) {
                    var _0x2fcax48 = this;
                    if (this.timings.updateStartTime = _0x2fcax43(), this.controller.pressed()) {
                        if (this.keyboard = Object.assign({}, this.controller.mouse), this.controller.keyboardModeSwitch.mode2) {
                            var _0x2fcax2c = 0;
                            (this.controller.up || this.controller.left) && (_0x2fcax2c = -1), (this.controller.down || this.controller.right) && (_0x2fcax2c = 1), _0x2fcax2c && this.direction.rotate(_0x2fcax2e * _0x2fcax2c * 0.003)
                        } else {
                            var _0x2fcax1f = new _0x2fcax47;
                            if (this.controller.up && _0x2fcax1f.add(new _0x2fcax47(0, -1)), this.controller.down && _0x2fcax1f.add(new _0x2fcax47(0, 1)), this.controller.left && _0x2fcax1f.add(new _0x2fcax47(-1, 0)), this.controller.right && _0x2fcax1f.add(new _0x2fcax47(1, 0)), _0x2fcax1f.magnitude()) {
                                var _0x2fcax1e = Math.atan2(this.direction.x * _0x2fcax1f.y - _0x2fcax1f.x * this.direction.y, this.direction.x * _0x2fcax1f.x + this.direction.y * _0x2fcax1f.y),
                                    _0x2fcax34 = _0x2fcax2e * Math.sign(_0x2fcax1e) * 0.003;
                                this.direction.rotate(Math.abs(_0x2fcax34) > Math.abs(_0x2fcax1e) ? _0x2fcax1e : _0x2fcax34)
                            }
                        }
                    } else {
                        this.controller.mouse ? (!this.keyboard || this.keyboard.x !== this.controller.mouse.x && this.keyboard.y !== this.controller.mouse.y) && (this.keyboard = null, this.direction = new _0x2fcax47(this.controller.mouse.x, this.controller.mouse.y)['sub'](new _0x2fcax47(this.view.width / 2, this.view.height / 2))['normalize']()) : !this.keyboard && this.controller.lastMouse && (this.direction = new _0x2fcax47(this.controller.lastMouse.x, this.controller.lastMouse.y)['sub'](new _0x2fcax47(this.view.width / 2, this.view.height / 2))['normalize']())
                    };
                    var _0x2fcax35 = this.player;
                    if (this.timings.aiStartTime = _0x2fcax43(), this.units.forEach(function(_0x2fcax2c) {
                            return _0x2fcax2c.update(_0x2fcax48)
                        }), this.timings.aiEndTime = _0x2fcax43(), this.units.slice()['forEach'](function(_0x2fcax45) {
                            if (!_0x2fcax45.death) {
                                for (var _0x2fcax46 = _0x2fcax48.getMovement(_0x2fcax2e, _0x2fcax45), _0x2fcax2c = function() {
                                        if (_0x2fcax45.death) {
                                            return {
                                                v: void(0)
                                            }
                                        };
                                        var _0x2fcax2f = _0x2fcax46.shift(),
                                            _0x2fcax2c = _0x2fcax48.space.intersections(_0x2fcax2f),
                                            _0x2fcax2e = [];
                                        _0x2fcax2c.forEach(function(_0x2fcax1f) {
                                            var _0x2fcax2c = _0x2fcax2e.findIndex(function(_0x2fcax2c) {
                                                return _0x2fcax2c.point.equal(_0x2fcax1f.point)
                                            });
                                            if (-1 === _0x2fcax2c) {
                                                _0x2fcax2e.push({
                                                    point: _0x2fcax1f.point,
                                                    intersections: [_0x2fcax1f]
                                                })
                                            } else {
                                                if (_0x2fcax1f.point !== _0x2fcax2e[_0x2fcax2c]['point']) {
                                                    if (_0x2fcax1f.point.cell) {
                                                        if (_0x2fcax2e[_0x2fcax2c]['point']['cell']) {
                                                            throw new Error('Ð‘Ñ‹Ð²Ð°ÐµÑ‚ Ð»Ð¸ Ñ‚Ð°ÐºÐ¾Ðµ?')
                                                        };
                                                        _0x2fcax2e[_0x2fcax2c]['point'] = _0x2fcax1f.point, _0x2fcax2e[_0x2fcax2c]['intersections']['forEach'](function(_0x2fcax2c) {
                                                            _0x2fcax2c.point = _0x2fcax1f.point
                                                        })
                                                    } else {
                                                        _0x2fcax1f.point = _0x2fcax2e[_0x2fcax2c]['point']
                                                    }
                                                };
                                                _0x2fcax2e[_0x2fcax2c]['intersections']['push'](_0x2fcax1f)
                                            }
                                        }), _0x2fcax2c.forEach(function(_0x2fcax2c) {
                                            _0x2fcax2c.distance = _0x2fcax2f.start.distance2(_0x2fcax2c.point)
                                        }), _0x2fcax2c.sort(function(_0x2fcax2c, _0x2fcax1f) {
                                            return _0x2fcax2c.distance - _0x2fcax1f.distance
                                        });
                                        var _0x2fcax1f = [],
                                            _0x2fcax1e = null,
                                            _0x2fcax34 = -1;
                                        if (_0x2fcax2c.forEach(function(_0x2fcax2c) {
                                                _0x2fcax3e(_0x2fcax2c.distance, _0x2fcax34) || (_0x2fcax1e = [], _0x2fcax34 = _0x2fcax2c.distance, _0x2fcax1f.push(_0x2fcax1e)), _0x2fcax1e.push(_0x2fcax2c)
                                            }), _0x2fcax1f.forEach(function(_0x2fcax30) {
                                                var _0x2fcax31 = [];
                                                _0x2fcax30.forEach(function(_0x2fcax2c) {
                                                    var _0x2fcax1f = _0x2fcax2c.segment.shape;
                                                    _0x2fcax1f && -1 === _0x2fcax31.indexOf(_0x2fcax1f) && _0x2fcax31.push(_0x2fcax1f)
                                                });
                                                for (var _0x2fcax2c = function() {
                                                        var _0x2fcax2c = _0x2fcax31.findIndex(function(_0x2fcax2c) {
                                                            return _0x2fcax2c.owner === _0x2fcax45.in
                                                        });
                                                        if (0 < _0x2fcax2c) {
                                                            var _0x2fcax1f = _0x2fcax31[0];
                                                            _0x2fcax31[0] = _0x2fcax31[_0x2fcax2c], _0x2fcax31[_0x2fcax2c] = _0x2fcax1f
                                                        };
                                                        var _0x2fcax2e = _0x2fcax31.findIndex(function(_0x2fcax2c) {
                                                            return _0x2fcax2c.owner.isTrack
                                                        });
                                                        if (0 < _0x2fcax2e) {
                                                            var _0x2fcax1e = _0x2fcax31[0];
                                                            _0x2fcax31[0] = _0x2fcax31[_0x2fcax2e], _0x2fcax31[_0x2fcax2e] = _0x2fcax1e
                                                        };
                                                        var _0x2fcax34 = _0x2fcax31.shift(),
                                                            _0x2fcax35 = [];
                                                        for (_0x2fcax30.forEach(function(_0x2fcax2c) {
                                                                _0x2fcax2c.segment.shape === _0x2fcax34 && _0x2fcax35.push(_0x2fcax2c)
                                                            }); !_0x2fcax45.death && _0x2fcax35.length;) {
                                                            _0x2fcax35.sort(function(_0x2fcax2c, _0x2fcax1f) {
                                                                return _0x2fcax45.in ? _0x2fcax1f.zn - _0x2fcax2c.zn : _0x2fcax2c.zn - _0x2fcax1f.zn
                                                            });
                                                            var _0x2fcax36 = _0x2fcax35.shift();
                                                            _0x2fcax36.segment.shape && !_0x2fcax34.owner.unit.death && _0x2fcax34.owner.handleIntersect(_0x2fcax36, _0x2fcax45, _0x2fcax2f, _0x2fcax48)
                                                        }
                                                    }; _0x2fcax31.length;) {
                                                    _0x2fcax2c()
                                                }
                                            }), _0x2fcax45.death) {
                                            return {
                                                v: void(0)
                                            }
                                        };
                                        var _0x2fcax35 = _0x2fcax2f.end;
                                        if (_0x2fcax45.in !== _0x2fcax45.base && _0x2fcax45.track.polyline.add(_0x2fcax35), _0x2fcax45.position = _0x2fcax35, _0x2fcax48.generateParticles && !_0x2fcax46.length && _0x2fcax45.in && _0x2fcax45.in !== _0x2fcax45.base) {
                                            var _0x2fcax36 = Math.sign(Math.random() - 0.5),
                                                _0x2fcax30 = _0x2fcax45.skin.avatar.scale * _0x2fcax3b,
                                                _0x2fcax31 = _0x2fcax2f.vector.clone()['normalize']()['rotate'](_0x2fcax36 * Math.random() * (Math.PI / 30))['mulScalar'](1 * _0x2fcax52.unitSpeed + Math.random() * _0x2fcax52.unitSpeed),
                                                _0x2fcax32 = _0x2fcax2f.vector.clone()['rotate'](Math.PI / 2)['normalize']()['mulScalar'](_0x2fcax36 * Math.random() * _0x2fcax30 / 2),
                                                _0x2fcax39 = _0x2fcax2f.vector.clone()['normalize']()['mulScalar'](_0x2fcax30 / 2),
                                                _0x2fcax3a = _0x2fcax2f.vector.clone()['normalize']()['mulScalar'](-6 * _0x2fcax52.unitSpeed),
                                                _0x2fcax42 = _0x2fcax45.in.unit.skin.colors.particles,
                                                _0x2fcax2d = 0.75 + 0.5 * Math.random(),
                                                _0x2fcax44 = new _0x2fcax50(_0x2fcax42[~~(Math.random() * _0x2fcax42.length)], _0x2fcax2f.start.clone()['add'](_0x2fcax32)['add'](_0x2fcax39)['add'](new _0x2fcax47(0, -_0x2fcax52.baseHeight)), _0x2fcax31, Math.PI + Math.random() * Math.PI, _0x2fcax2d, -2 * _0x2fcax2d, 300, _0x2fcax3a);
                                            _0x2fcax48.particles.push(_0x2fcax44)
                                        }
                                    }; _0x2fcax46.length;) {
                                    var _0x2fcax1f = _0x2fcax2c();
                                    if ('object' === _0x2fcax2b(_0x2fcax1f)) {
                                        return _0x2fcax1f.v
                                    }
                                }
                            }
                        }), _0x2fcax35) {
                        var _0x2fcax36 = (_0x2fcax35.base.square - _0x2fcax35.lastSquare) / this.square * 100;
                        _0x2fcax35.lastSquare = _0x2fcax35.base.square, 0.01 <= _0x2fcax36 && this.labels.push(new _0x2fcax4e('+' ['concat'](_0x2fcax36.toFixed(2), '%'), _0x2fcax35.skin.colors.back, _0x2fcax35, new _0x2fcax47(0, -35), new _0x2fcax47(0, -10), 1e3, !0))
                    };
                    this.units.sort(function(_0x2fcax2c, _0x2fcax1f) {
                        return _0x2fcax1f.base.square - _0x2fcax2c.base.square
                    }), this.labels = this.labels.filter(function(_0x2fcax2c) {
                        return _0x2fcax2c.update(_0x2fcax2e), 0 < _0x2fcax2c.time
                    }), this.particles = this.particles.filter(function(_0x2fcax2c) {
                        return _0x2fcax2c.update(_0x2fcax2e), 0 < _0x2fcax2c.time
                    });
                    var _0x2fcax30 = (_0x2fcax35 ? _0x2fcax39 - _0x2fcax35.base.square / this.square * (_0x2fcax39 - _0x2fcax3a) : 0.5) - this.scale;
                    this.scale += _0x2fcax30 * _0x2fcax2e / 200, _0x2fcax35 && 0.9999 < _0x2fcax35.base.square / this.square && this.gameOver(!0), this.timings.spawnStartTime = _0x2fcax43(), this.units.length < this.maxUnits && this.spawnBot(0.3 < Math.random()), this.timings.spawnEndTime = _0x2fcax43(), this.timings.updateEndTime = _0x2fcax43()
                }
            }, {
                key: 'render',
                value: function(_0x2fcax2c) {
                    var _0x2fcax30 = this;
                    this.timings.renderStartTime = _0x2fcax43();
                    var _0x2fcax1f = this.view;
                    if (_0x2fcax1f) {
                        var _0x2fcax31 = _0x2fcax1f.getContext('2d'),
                            _0x2fcax2e = window.devicePixelRatio,
                            _0x2fcax2f = _0x2fcax1f.width * _0x2fcax2e,
                            _0x2fcax1e = _0x2fcax1f.height * _0x2fcax2e,
                            _0x2fcax34 = Math.sqrt(_0x2fcax2f * _0x2fcax2f + _0x2fcax1e * _0x2fcax1e) / Math.sqrt(2455780),
                            _0x2fcax35 = this.scale * _0x2fcax34 / _0x2fcax2e,
                            _0x2fcax36 = this.player ? this.player.position : this.space.center,
                            _0x2fcax32 = _0x2fcax36.x * _0x2fcax35 - _0x2fcax1f.width / 2,
                            _0x2fcax39 = _0x2fcax36.y * _0x2fcax35 - _0x2fcax1f.height / 2,
                            _0x2fcax3a = _0x2fcax36.x - _0x2fcax1f.width / 2 / _0x2fcax35,
                            _0x2fcax42 = _0x2fcax36.x + _0x2fcax1f.width / 2 / _0x2fcax35,
                            _0x2fcax2d = _0x2fcax36.y - _0x2fcax1f.height / 2 / _0x2fcax35,
                            _0x2fcax44 = _0x2fcax36.y + _0x2fcax1f.height / 2 / _0x2fcax35,
                            _0x2fcax45 = function(_0x2fcax2c) {
                                var _0x2fcax1f = 1 < arguments.length && void(0) !== arguments[1] ? arguments[1] : 0;
                                return _0x2fcax40(_0x2fcax3a - _0x2fcax1f, _0x2fcax42 + _0x2fcax1f, _0x2fcax2c.x) && _0x2fcax40(_0x2fcax2d - _0x2fcax1f, _0x2fcax44 + _0x2fcax1f, _0x2fcax2c.y)
                            },
                            _0x2fcax46 = function(_0x2fcax2c) {
                                var _0x2fcax1f = 1 < arguments.length && void(0) !== arguments[1] ? arguments[1] : 0;
                                return 0 < _0x2fcax41(_0x2fcax2c.bounds.left - _0x2fcax1f, _0x2fcax2c.bounds.right + _0x2fcax1f, _0x2fcax3a, _0x2fcax42) && 0 < _0x2fcax41(_0x2fcax2c.bounds.top - _0x2fcax1f, _0x2fcax2c.bounds.bottom + _0x2fcax1f, _0x2fcax2d, _0x2fcax44)
                            };
                        _0x2fcax31.resetTransform(), _0x2fcax31.clearRect(0, 0, _0x2fcax1f.width, _0x2fcax1f.height), _0x2fcax31.translate(-_0x2fcax32, -_0x2fcax39), _0x2fcax31.scale(_0x2fcax35, _0x2fcax35), _0x2fcax31.translate(0, -_0x2fcax52.baseHeight), this.units.forEach(function(_0x2fcax2c) {
                            _0x2fcax46(_0x2fcax2c.base.polygon, _0x2fcax3b) && _0x2fcax53(_0x2fcax31, _0x2fcax2c.base.polygon.path, _0x2fcax2c.skin.pattern || _0x2fcax2c.skin.colors.main)
                        }), _0x2fcax31.lineCap = 'round', _0x2fcax31.globalCompositeOperation = 'destination-out', this.units.forEach(function(_0x2fcax2c) {
                            var _0x2fcax1f = _0x2fcax2c.track.polyline,
                                _0x2fcax2e = _0x2fcax1f.start;
                            _0x2fcax1f.bounds;
                            _0x2fcax2e && _0x2fcax46(_0x2fcax2c.track.polyline, _0x2fcax3b) && (_0x2fcax55(_0x2fcax31, _0x2fcax2c.skin.colors.main, _0x2fcax2c.track, _0x2fcax2c.position), _0x2fcax31.save(), _0x2fcax31.globalCompositeOperation = 'destination-over', _0x2fcax31.clip(_0x2fcax2c.base.polygon.path), _0x2fcax31.fillStyle = _0x2fcax2c.skin.pattern || _0x2fcax2c.skin.colors.main, _0x2fcax55(_0x2fcax31, _0x2fcax2c.skin.pattern || _0x2fcax2c.skin.colors.main, _0x2fcax2c.track, _0x2fcax2c.position, !0), _0x2fcax31.restore())
                        }), _0x2fcax31.translate(0, _0x2fcax52.baseHeight), _0x2fcax31.globalCompositeOperation = 'source-over', this.units.forEach(function(_0x2fcax1f) {
                            _0x2fcax45(_0x2fcax1f.position, 4 * _0x2fcax3b) && (_0x2fcax31.save(), _0x2fcax1f.skin.avatar.topLayers.forEach(function(_0x2fcax2c) {
                                return _0x2fcax58(_0x2fcax31, _0x2fcax1f, _0x2fcax2c)
                            }), _0x2fcax31.restore())
                        }), this.units.forEach(function(_0x2fcax2c) {
                            ! function(_0x2fcax2c, _0x2fcax1f, _0x2fcax2e) {
                                var _0x2fcax1e = ~~(30 / window.devicePixelRatio);
                                _0x2fcax2c.save(), _0x2fcax2c.translate(_0x2fcax1f.position.x, _0x2fcax1f.position.y), _0x2fcax2c.scale(1.001 / _0x2fcax2e, 1.001 / _0x2fcax2e), _0x2fcax2c.font = 'bold ' ['concat'](_0x2fcax1e, 'px Nunito'), _0x2fcax2c.textAlign = 'center', _0x2fcax2c.textBaseline = 'bottom', _0x2fcax2c.fillStyle = _0x2fcax1f.skin.colors.nick, _0x2fcax2c.fillText(_0x2fcax1f.name, 0, -10 * _0x2fcax2e), _0x2fcax2c.restore()
                            }(_0x2fcax31, _0x2fcax2c, _0x2fcax35)
                        }), _0x2fcax31.globalCompositeOperation = 'destination-over', this.units.forEach(function(_0x2fcax1f) {
                            _0x2fcax45(_0x2fcax1f.position, 4 * _0x2fcax3b) && (_0x2fcax31.save(), _0x2fcax1f.skin.avatar.bottomLayers.forEach(function(_0x2fcax2c) {
                                return _0x2fcax58(_0x2fcax31, _0x2fcax1f, _0x2fcax2c)
                            }), _0x2fcax31.restore())
                        }), _0x2fcax31.globalAlpha = 0.6, this.units.forEach(function(_0x2fcax2c) {
                            _0x2fcax2c.in !== _0x2fcax2c.base && _0x2fcax46(_0x2fcax2c.track.polyline, _0x2fcax3b) && _0x2fcax55(_0x2fcax31, _0x2fcax2c.skin.pattern || _0x2fcax2c.skin.colors.main, _0x2fcax2c.track, _0x2fcax2c.position)
                        }), _0x2fcax31.globalAlpha = 1, this.units.forEach(function(_0x2fcax2c) {
                            _0x2fcax46(_0x2fcax2c.base.polygon, _0x2fcax3b) && _0x2fcax53(_0x2fcax31, _0x2fcax2c.base.polygon.path, _0x2fcax2c.skin && _0x2fcax2c.skin.back || _0x2fcax2c.skin.colors.back)
                        }), _0x2fcax54(_0x2fcax31, this.border, 0, '#e7fff4'), _0x2fcax31.translate(0, 5), _0x2fcax54(_0x2fcax31, this.border, 0, '#88a799'), _0x2fcax31.translate(0, -5), _0x2fcax31.fillStyle = function(_0x2fcax2c, _0x2fcax1f) {
                            return _0x2fcax38 || ((_0x2fcax38 = _0x2fcax2c.createLinearGradient(_0x2fcax1f.width / 2, 0, _0x2fcax1f.width / 2, _0x2fcax1f.height))['addColorStop'](0, '#2d6998'), _0x2fcax38.addColorStop(0.5, '#51d7dd'), _0x2fcax38.addColorStop(1, '#81faff')), _0x2fcax38
                        }(_0x2fcax31, this.space), _0x2fcax31.fillRect(_0x2fcax2f / -2, _0x2fcax1e / -2, this.space.width + _0x2fcax2f, this.space.height + _0x2fcax1e), _0x2fcax31.lineJoin = 'round', _0x2fcax31.globalCompositeOperation = 'source-over', _0x2fcax31.globalCompositeOperation = 'source-over', _0x2fcax31.lineJoin = 'butt', _0x2fcax31.lineCap = 'butt', this.particles.forEach(function(_0x2fcax2c) {
                            return _0x2fcax45(_0x2fcax2c.position, _0x2fcax3b) && _0x2fcax2c.draw(_0x2fcax31)
                        }), _0x2fcax31.scale(1 / _0x2fcax35, 1 / _0x2fcax35), this.labels.forEach(function(_0x2fcax2c) {
                            return _0x2fcax2c.draw(_0x2fcax31, _0x2fcax35)
                        }), _0x2fcax31.scale(_0x2fcax35, _0x2fcax35);
                        var _0x2fcax48 = this.units[0];
                        _0x2fcax48 && function(_0x2fcax2c, _0x2fcax1f, _0x2fcax2e) {
                            var _0x2fcax1e = window.devicePixelRatio,
                                _0x2fcax34 = ~~(30 / _0x2fcax1e);
                            _0x2fcax2c.save(), _0x2fcax2c.translate(_0x2fcax1f.position.x, _0x2fcax1f.position.y), _0x2fcax2c.scale(1 / (_0x2fcax2e * _0x2fcax1e), 1 / (_0x2fcax2e * _0x2fcax1e)), _0x2fcax2c.fillStyle = '#ffff00', _0x2fcax2c.strokeStyle = '#ff8800', _0x2fcax2c.lineJoin = 'round', _0x2fcax2c.lineWidth = 1, _0x2fcax2c.translate(0, -10 * _0x2fcax2e * _0x2fcax1e), _0x2fcax2c.translate(0, -4), _0x2fcax2c.translate(0, -_0x2fcax34 * _0x2fcax1e), _0x2fcax2c.translate(0, -12), _0x2fcax2c.fill(_0x2fcax56), _0x2fcax2c.stroke(_0x2fcax56), _0x2fcax2c.restore()
                        }(_0x2fcax31, _0x2fcax48, _0x2fcax35);
                        var _0x2fcax3c = _0x2fcax48 && _0x2fcax48.base.square / this.square;
                        _0x2fcax31.resetTransform();
                        var _0x2fcax2b = function(_0x2fcax2c, _0x2fcax1f, _0x2fcax2e, _0x2fcax1e, _0x2fcax34, _0x2fcax35) {
                            var _0x2fcax36 = _0x2fcax33(_0x2fcax35, 4),
                                _0x2fcax30 = _0x2fcax36[0],
                                _0x2fcax31 = _0x2fcax36[1],
                                _0x2fcax2f = _0x2fcax36[2],
                                _0x2fcax32 = _0x2fcax36[3];
                            _0x2fcax2c.beginPath(), _0x2fcax2c.moveTo(_0x2fcax1f + _0x2fcax30, _0x2fcax2e), _0x2fcax2c.lineTo(_0x2fcax1f + _0x2fcax1e - _0x2fcax31, _0x2fcax2e), _0x2fcax2c.quadraticCurveTo(_0x2fcax1f + _0x2fcax1e, _0x2fcax2e, _0x2fcax1f + _0x2fcax1e, _0x2fcax2e + _0x2fcax31), _0x2fcax2c.lineTo(_0x2fcax1f + _0x2fcax1e, _0x2fcax2e + _0x2fcax34 - _0x2fcax2f), _0x2fcax2c.quadraticCurveTo(_0x2fcax1f + _0x2fcax1e, _0x2fcax2e + _0x2fcax34, _0x2fcax1f + _0x2fcax1e - _0x2fcax2f, _0x2fcax2e + _0x2fcax34), _0x2fcax2c.lineTo(_0x2fcax1f + _0x2fcax32, _0x2fcax2e + _0x2fcax34), _0x2fcax2c.quadraticCurveTo(_0x2fcax1f, _0x2fcax2e + _0x2fcax34, _0x2fcax1f, _0x2fcax2e + _0x2fcax34 - _0x2fcax32), _0x2fcax2c.lineTo(_0x2fcax1f, _0x2fcax2e + _0x2fcax30), _0x2fcax2c.quadraticCurveTo(_0x2fcax1f, _0x2fcax2e, _0x2fcax1f + _0x2fcax30, _0x2fcax2e), _0x2fcax2c.closePath(), _0x2fcax2c.fill()
                        };
                        _0x2fcax31.scale(1 / _0x2fcax2e, 1 / _0x2fcax2e);
                        for (var _0x2fcax37, _0x2fcax3d = function(_0x2fcax2c, _0x2fcax1f, _0x2fcax2e) {
                                return _0x2fcax2e < _0x2fcax2c ? _0x2fcax2c : _0x2fcax1f < _0x2fcax2e ? _0x2fcax1f : _0x2fcax2e
                            }(9 / 16, 16 / 9, _0x2fcax2f / _0x2fcax1e), _0x2fcax3e = 9 / 16 - 16 / 9, _0x2fcax3f = _0x2fcax2f / (-(1.75 + 1.75 * _0x2fcax3d) / _0x2fcax3e), _0x2fcax47 = _0x2fcax3f / 2, _0x2fcax49 = function(_0x2fcax2c, _0x2fcax1f, _0x2fcax2e, _0x2fcax1e) {
                                var _0x2fcax34 = 16 + 46 * _0x2fcax2e,
                                    _0x2fcax35 = _0x2fcax2c.base.square / _0x2fcax30.square / _0x2fcax1e * _0x2fcax47;
                                _0x2fcax37 && _0x2fcax37 - 0.05 * _0x2fcax47 < _0x2fcax35 && (_0x2fcax35 = _0x2fcax37 - 0.05 * _0x2fcax47);
                                var _0x2fcax36 = _0x2fcax2f - (_0x2fcax47 + (_0x2fcax37 = _0x2fcax35));
                                _0x2fcax31.fillStyle = '#00000011', _0x2fcax2b(_0x2fcax31, _0x2fcax36, 16 + _0x2fcax34, _0x2fcax3f, 36, [18, 0, 0, 18]), _0x2fcax31.fillStyle = _0x2fcax2c.skin.colors.back, _0x2fcax2b(_0x2fcax31, _0x2fcax36, 4 + _0x2fcax34, _0x2fcax3f, 36, [18, 0, 0, 18]), _0x2fcax31.fillStyle = _0x2fcax2c.skin.colors.main, _0x2fcax2b(_0x2fcax31, _0x2fcax36, _0x2fcax34, _0x2fcax3f, 36, [18, 0, 0, 18]), _0x2fcax31.fillStyle = _0x2fcax2c.skin.colors.nick, _0x2fcax31.font = 'bold ' ['concat'](20, 'px Nunito'), _0x2fcax31.textAlign = 'left', _0x2fcax31.textBaseline = 'middle', _0x2fcax31.fillText('' ['concat'](_0x2fcax1f, 'â€” ')['concat']((_0x2fcax2c.base.square / _0x2fcax30.square * 100)['toFixed'](2), '% ')['concat'](_0x2fcax2c.name), 18 + _0x2fcax36, 18 + _0x2fcax34 + 2)
                            }, _0x2fcax4a = !1, _0x2fcax4b = 0; _0x2fcax4b < 5; _0x2fcax4b++) {
                            var _0x2fcax4c = this.units[_0x2fcax4b];
                            _0x2fcax4c && (_0x2fcax4c === this.player && (_0x2fcax4a = !0), _0x2fcax49(_0x2fcax4c, _0x2fcax4b + 1, _0x2fcax4b, _0x2fcax3c))
                        };
                        if (!_0x2fcax4a && this.player && !this.player.death) {
                            var _0x2fcax4d = this.units.findIndex(function(_0x2fcax2c) {
                                return _0x2fcax2c === _0x2fcax30.player
                            });
                            _0x2fcax49(this.player, _0x2fcax4d + 1, 6, _0x2fcax3c)
                        };
                        if (this.player) {
                            _0x2fcax31.fillStyle = '#00000022', _0x2fcax2b(_0x2fcax31, 0, 16, _0x2fcax3f, 40, [0, 20, 20, 0]);
                            var _0x2fcax4e = 0.25 * _0x2fcax3f + this.player.base.square / this.square * _0x2fcax3f * 0.75;
                            _0x2fcax31.fillStyle = this.player.skin.colors.back, _0x2fcax2b(_0x2fcax31, 0, 20, _0x2fcax4e, 36, [0, 18, 18, 0]), _0x2fcax31.fillStyle = this.player.skin.colors.main, _0x2fcax2b(_0x2fcax31, 0, 14, _0x2fcax4e, 36, [0, 18, 18, 0]), _0x2fcax31.fillStyle = this.player.skin.colors.nick, _0x2fcax31.font = 'bold ' ['concat'](22, 'px Nunito'), _0x2fcax31.textAlign = 'left', _0x2fcax31.textBaseline = 'middle', _0x2fcax31.fillText('' ['concat']((this.player.base.square / this.square * 100)['toFixed'](2), '%'), 18, 36), _0x2fcax31.fillStyle = '#00000088', _0x2fcax31.fillStyle = '#58c921', _0x2fcax2b(_0x2fcax31, 0, 60, 150, 36, [0, 18, 18, 0]), _0x2fcax31.font = 'bold ' ['concat'](20, 'px Nunito'), _0x2fcax31.fillStyle = '#fff', _0x2fcax31.textBaseline = 'top', _0x2fcax31.fillText('ðŸ† ' ['concat'](this.best.toFixed(2), '%'), 3, 70);
                            _0x2fcax31.fillStyle = '#ffae13', _0x2fcax2b(_0x2fcax31, 0, 100, 80, 36, [0, 18, 18, 0]), _0x2fcax31.fillStyle = '#fff', _0x2fcax31.font = 'bold ' ['concat'](20, 'px Nunito'), _0x2fcax31.textBaseline = 'middle', _0x2fcax31.fillText('â˜ ï¸ ' ['concat'](this.player.statistics.kills), 3, 120)
                        };
                        this.timings.renderEndTime = _0x2fcax43();
                        var _0x2fcax4f = function(_0x2fcax2c, _0x2fcax1f) {
                                return 0.95 * _0x2fcax2c + 0.05 * _0x2fcax1f
                            },
                            _0x2fcax50 = this.stats,
                            _0x2fcax51 = this.timings;
                        _0x2fcax50.fps = _0x2fcax4f(_0x2fcax50.fps, 1e3 / _0x2fcax2c), _0x2fcax50.ut = _0x2fcax4f(_0x2fcax50.ut, _0x2fcax51.updateEndTime - _0x2fcax51.updateStartTime), _0x2fcax50.ait = _0x2fcax4f(_0x2fcax50.ait, _0x2fcax51.aiEndTime - _0x2fcax51.aiStartTime), _0x2fcax50.st = _0x2fcax4f(_0x2fcax50.st, _0x2fcax51.spawnEndTime - _0x2fcax51.spawnStartTime), _0x2fcax50.rt = _0x2fcax4f(_0x2fcax50.rt, _0x2fcax51.renderEndTime - _0x2fcax51.renderStartTime)
                    }
                }
            }, {
                key: 'checkSegments',
                value: function(_0x2fcax2c) {
                    this.units.forEach(function(_0x2fcax2c) {
                        _0x2fcax2c.base.polygon.segments.length, _0x2fcax2c.track.polyline.segments.length
                    });
                    var _0x2fcax1f = this.space.segmentsCount();
                    Object.keys(_0x2fcax1f)['length']
                }
            }, {
                key: 'handleReturn',
                value: function(_0x2fcax48) {
                    var _0x2fcax3c = this;
                    if (!_0x2fcax48.death) {
                        var _0x2fcax1f = _0x2fcax48.track.polyline.clone(),
                            _0x2fcax2c = _0x2fcax48.base,
                            _0x2fcax2e = _0x2fcax2c.polygon.segments.findIndex(function(_0x2fcax2c) {
                                return _0x2fcax2c.start === _0x2fcax1f.start
                            }),
                            _0x2fcax1e = _0x2fcax2c.polygon.segments.findIndex(function(_0x2fcax2c) {
                                return _0x2fcax2c.start === _0x2fcax1f.end
                            }),
                            _0x2fcax34 = Math.min(_0x2fcax1e, _0x2fcax2e),
                            _0x2fcax35 = Math.max(_0x2fcax1e, _0x2fcax2e);
                        _0x2fcax34 !== _0x2fcax2e && _0x2fcax1f.reverse();
                        var _0x2fcax36 = _0x2fcax1f.points(),
                            _0x2fcax30 = _0x2fcax2c.polygon.points(),
                            _0x2fcax31 = _0x2fcax30.splice.apply(_0x2fcax30, [_0x2fcax34, _0x2fcax35 - _0x2fcax34 + 1]['concat'](_0x2fcax37(_0x2fcax36)));
                        _0x2fcax31.shift(), _0x2fcax31.pop(), _0x2fcax31.reverse(), _0x2fcax31.push.apply(_0x2fcax31, _0x2fcax37(_0x2fcax36));
                        var _0x2fcax2f, _0x2fcax32 = new _0x2fcax4c(_0x2fcax31);
                        _0x2fcax32.rawSquare() < 0 ? (_0x2fcax2f = new _0x2fcax4c(_0x2fcax30.reverse()), _0x2fcax2c.polygon.unsplice(_0x2fcax1f, _0x2fcax34, _0x2fcax35)) : (_0x2fcax2f = _0x2fcax32, _0x2fcax2c.polygon.splice(_0x2fcax1f, _0x2fcax34, _0x2fcax35)), _0x2fcax2c.square += _0x2fcax2f.square(), _0x2fcax2c.polygon.calcPath(), this.units.filter(function(_0x2fcax2c) {
                            return _0x2fcax2c !== _0x2fcax48
                        })['forEach'](function(_0x2fcax2c) {
                            _0x2fcax2c.death || (_0x2fcax2c.in === _0x2fcax2c.base && _0x2fcax2f.inside(_0x2fcax2c.position) && _0x2fcax3c.kill(_0x2fcax2c, _0x2fcax48), _0x2fcax2c.track.polyline.start && _0x2fcax2f.inside(_0x2fcax2c.track.polyline.start) && _0x2fcax3c.kill(_0x2fcax2c, _0x2fcax48))
                        });
                        for (var _0x2fcax39 = [], _0x2fcax3a = _0x2fcax48.track.polyline.segments, _0x2fcax42 = _0x2fcax3a.length, _0x2fcax2d = function(_0x2fcax1f) {
                                var _0x2fcax2e = _0x2fcax1f === _0x2fcax42 ? _0x2fcax3a[_0x2fcax1f - 1]['end'] : _0x2fcax3a[_0x2fcax1f]['start'],
                                    _0x2fcax2c = _0x2fcax2e.segments.filter(function(_0x2fcax2c) {
                                        return _0x2fcax2c.shape.owner !== _0x2fcax48.track && _0x2fcax2c.shape.owner !== _0x2fcax48.base && _0x2fcax2c.start === _0x2fcax2e
                                    });
                                if (_0x2fcax2c.length) {
                                    var _0x2fcax1e = _0x2fcax2c.map(function(_0x2fcax2c) {
                                        return {
                                            owner: _0x2fcax2c.shape.owner,
                                            point: _0x2fcax2e,
                                            segment: _0x2fcax2c,
                                            index: _0x2fcax1f
                                        }
                                    });
                                    if (_0x2fcax39.length) {
                                        var _0x2fcax34 = _0x2fcax39.filter(function(_0x2fcax1f) {
                                            return _0x2fcax1e.some(function(_0x2fcax2c) {
                                                return _0x2fcax2c.owner === _0x2fcax1f.owner
                                            })
                                        });
                                        if (_0x2fcax34.length) {
                                            var _0x2fcax35 = _0x2fcax34[0],
                                                _0x2fcax36 = _0x2fcax1e.find(function(_0x2fcax2c) {
                                                    return _0x2fcax2c.owner === _0x2fcax35.owner
                                                });
                                            ! function(_0x2fcax2c) {
                                                var _0x2fcax1f = _0x2fcax2c.owner,
                                                    _0x2fcax2e = _0x2fcax2c.startT,
                                                    _0x2fcax1e = _0x2fcax2c.endT,
                                                    _0x2fcax34 = _0x2fcax2c.startPoint,
                                                    _0x2fcax35 = _0x2fcax2c.endPoint,
                                                    _0x2fcax36 = _0x2fcax2c.enter,
                                                    _0x2fcax30 = _0x2fcax2c.leave;
                                                if (_0x2fcax36.shape !== _0x2fcax1f.polygon && (_0x2fcax36 = _0x2fcax1f.polygon.segments.find(function(_0x2fcax2c) {
                                                        return _0x2fcax2c.start === _0x2fcax34
                                                    })), _0x2fcax30.shape !== _0x2fcax1f.polygon && (_0x2fcax30 = _0x2fcax1f.polygon.segments.find(function(_0x2fcax2c) {
                                                        return _0x2fcax2c.start === _0x2fcax35
                                                    })), _0x2fcax36 !== _0x2fcax30) {
                                                    var _0x2fcax31 = _0x2fcax48.track.polyline.points()['splice'](_0x2fcax2e, _0x2fcax1e - _0x2fcax2e + 1),
                                                        _0x2fcax2f = _0x2fcax1f.polygon.segments.findIndex(function(_0x2fcax2c) {
                                                            return _0x2fcax2c === _0x2fcax36
                                                        }),
                                                        _0x2fcax32 = _0x2fcax1f.polygon.segments.findIndex(function(_0x2fcax2c) {
                                                            return _0x2fcax2c === _0x2fcax30
                                                        }),
                                                        _0x2fcax39 = Math.min(_0x2fcax32, _0x2fcax2f),
                                                        _0x2fcax3a = Math.max(_0x2fcax32, _0x2fcax2f);
                                                    _0x2fcax39 !== _0x2fcax2f && _0x2fcax31.reverse();
                                                    var _0x2fcax42 = _0x2fcax1f.polygon.points(),
                                                        _0x2fcax2d = _0x2fcax42.splice.apply(_0x2fcax42, [_0x2fcax39, _0x2fcax3a - _0x2fcax39 + 1]['concat'](_0x2fcax37(_0x2fcax31)));
                                                    _0x2fcax2d.shift(), _0x2fcax2d.pop(), _0x2fcax2d.push.apply(_0x2fcax2d, _0x2fcax37(_0x2fcax31.slice()['reverse']()));
                                                    var _0x2fcax44, _0x2fcax45 = new _0x2fcax4c(_0x2fcax2d),
                                                        _0x2fcax46 = new _0x2fcax4c(_0x2fcax42);
                                                    _0x2fcax44 = _0x2fcax1f.unit.in === _0x2fcax1f.unit.base && _0x2fcax45.inside(_0x2fcax1f.unit.position) || _0x2fcax1f.unit.in !== _0x2fcax1f.unit.base && _0x2fcax45.inside(_0x2fcax1f.unit.track.polyline.start) ? (_0x2fcax1f.polygon.right(_0x2fcax31, _0x2fcax39, _0x2fcax3a), _0x2fcax46) : (_0x2fcax1f.polygon.left(_0x2fcax31, _0x2fcax39, _0x2fcax3a), _0x2fcax45), _0x2fcax1f.square -= _0x2fcax44.square(), _0x2fcax1f.polygon.calcPath(), _0x2fcax3c.units.forEach(function(_0x2fcax2c) {
                                                        _0x2fcax1f.unit !== _0x2fcax2c && _0x2fcax2c.in === _0x2fcax1f && _0x2fcax44.inside(_0x2fcax2c.position) && (_0x2fcax2c.in = null)
                                                    })
                                                }
                                            }({
                                                owner: _0x2fcax35.owner,
                                                enter: _0x2fcax35.segment,
                                                startPoint: _0x2fcax35.point,
                                                startT: _0x2fcax35.index,
                                                leave: _0x2fcax36.segment,
                                                endPoint: _0x2fcax36.point,
                                                endT: _0x2fcax36.index
                                            });
                                            var _0x2fcax30 = _0x2fcax48.track.intersections.find(function(_0x2fcax2c) {
                                                return _0x2fcax2c.point.equal(_0x2fcax2e)
                                            })['intersections']['filter'](function(_0x2fcax2c) {
                                                return _0x2fcax2c.base === _0x2fcax35.owner
                                            });
                                            1 !== _0x2fcax30.length && !1 !== _0x2fcax30[_0x2fcax30.length - 1]['enter'] || (_0x2fcax1e = _0x2fcax1e.filter(function(_0x2fcax2c) {
                                                return _0x2fcax2c.owner !== _0x2fcax35.owner
                                            }))
                                        };
                                        _0x2fcax39 = _0x2fcax1e
                                    } else {
                                        var _0x2fcax31 = _0x2fcax48.track.intersections.find(function(_0x2fcax2c) {
                                            return _0x2fcax2c.point.equal(_0x2fcax2e)
                                        });
                                        if (!_0x2fcax31) {
                                            return {
                                                v: !1
                                            }
                                        };
                                        _0x2fcax39 = _0x2fcax1e.filter(function(_0x2fcax1f) {
                                            var _0x2fcax2c = _0x2fcax31.intersections.filter(function(_0x2fcax2c) {
                                                return _0x2fcax2c.base === _0x2fcax1f.owner
                                            });
                                            return !!_0x2fcax2c.length && _0x2fcax2c[_0x2fcax2c.length - 1]['enter']
                                        })
                                    }
                                }
                            }, _0x2fcax44 = 0; _0x2fcax44 <= _0x2fcax42; _0x2fcax44++) {
                            var _0x2fcax45 = _0x2fcax2d(_0x2fcax44);
                            if ('object' === _0x2fcax2b(_0x2fcax45)) {
                                return _0x2fcax45.v
                            }
                        };
                        this.units.forEach(function(_0x2fcax2c) {
                            _0x2fcax48 !== _0x2fcax2c && _0x2fcax2f.inside(_0x2fcax2c.position) && (_0x2fcax2c.in = _0x2fcax48.base)
                        })
                    }
                }
            }]), _0x2fcax32
        }(),
        _0x2fcax65 = _0x2fcax52.trackWidth * _0x2fcax52.maxScale,
        _0x2fcax66 = {
            level: 0,
            scale: 1,
            x: 0,
            y: 0,
            pivot: {
                x: 0.5,
                y: 0.5
            },
            direction: '',
            rotation: 0,
            image: null
        },
        _0x2fcax67 = {
            scale: 1,
            x: 0,
            y: 0,
            layers: []
        },
        _0x2fcax68 = {
            main: 'black',
            back: 'black',
            nick: 'black',
            particles: ['black']
        },
        _0x2fcax69 = {
            name: '',
            colors: _0x2fcax68,
            pattern: null,
            avatar: null
        },
        _0x2fcax6a = document.createElementNS('http://www.w3.org/2000/svg', 'svg'),
        _0x2fcax6b = function _0x2fcax2c(_0x2fcax36, _0x2fcax30, _0x2fcax1f) {
            var _0x2fcax31 = this;
            if (_0x2fcax2d(this, _0x2fcax2c), Object.assign(this, _0x2fcax69, _0x2fcax30), this.colors = Object.assign({}, _0x2fcax68, _0x2fcax30.colors), this.pattern = null, _0x2fcax30.pattern) {
                var _0x2fcax2f = new Image;
                _0x2fcax2f.onload = function() {
                    var _0x2fcax2c = _0x2fcax2f.width,
                        _0x2fcax1f = _0x2fcax2f.height,
                        _0x2fcax2e = 100 / _0x2fcax2c * _0x2fcax52.maxScale * (_0x2fcax30.pattern.scale || 1),
                        _0x2fcax1e = document.createElement('canvas');
                    _0x2fcax1e.width = ~~(_0x2fcax2c * _0x2fcax2e), _0x2fcax1e.height = ~~(_0x2fcax1f * _0x2fcax2e), _0x2fcax1e.getContext('2d')['drawImage'](_0x2fcax2f, 0, 0, _0x2fcax1e.width, _0x2fcax1e.height), _0x2fcax31.pattern = _0x2fcax36.getContext('2d')['createPattern'](_0x2fcax1e, 'repeat');
                    var _0x2fcax34 = 1 / _0x2fcax52.maxScale,
                        _0x2fcax35 = _0x2fcax6a.createSVGMatrix()['scale'](_0x2fcax34, _0x2fcax34);
                    _0x2fcax31.pattern.setTransform && _0x2fcax31.pattern.setTransform(_0x2fcax35)
                }, _0x2fcax2f.src = _0x2fcax1f + _0x2fcax30.pattern.url
            };
            var _0x2fcax2e = function(_0x2fcax2c, _0x2fcax1f) {
                var _0x2fcax2e = document.createElement('canvas');
                _0x2fcax2e.width = _0x2fcax65, _0x2fcax2e.height = _0x2fcax65;
                var _0x2fcax1e = _0x2fcax2e.getContext('2d');
                return _0x2fcax1e.fillStyle = _0x2fcax1f, _0x2fcax1e.fillRect(0, 0, _0x2fcax65, _0x2fcax65), _0x2fcax1e.fillStyle = _0x2fcax2c, _0x2fcax1e.fillRect(_0x2fcax65 / 6, _0x2fcax65 / 6, 2 / 3 * _0x2fcax65, 2 / 3 * _0x2fcax65), _0x2fcax2e
            };
            _0x2fcax30.avatar ? (this.avatar = Object.assign({}, _0x2fcax67, _0x2fcax30.avatar), this.avatar.layers = (_0x2fcax30.avatar.layers || [])['map'](function(_0x2fcax2c) {
                var _0x2fcax36 = Object.assign({}, _0x2fcax66, _0x2fcax2c);
                _0x2fcax36.pivot = Object.assign({
                    x: 0.5,
                    y: 0.5
                }, _0x2fcax2c.pivot);
                var _0x2fcax30 = new Image;
                return _0x2fcax30.src = _0x2fcax1f + _0x2fcax36.url, _0x2fcax30.onload = function() {
                    var _0x2fcax2c = _0x2fcax30.naturalWidth || _0x2fcax30.width,
                        _0x2fcax1f = _0x2fcax30.naturalHeight || _0x2fcax30.height,
                        _0x2fcax2e = _0x2fcax65 * _0x2fcax31.avatar.scale * _0x2fcax36.scale / _0x2fcax2c,
                        _0x2fcax1e = ~~(_0x2fcax2c * _0x2fcax2e),
                        _0x2fcax34 = ~~(_0x2fcax1f * _0x2fcax2e),
                        _0x2fcax35 = document.createElement('canvas');
                    _0x2fcax35.width = _0x2fcax1e, _0x2fcax35.height = _0x2fcax34, _0x2fcax35.getContext('2d')['drawImage'](_0x2fcax30, 0, 0, _0x2fcax1e, _0x2fcax34), _0x2fcax36.image = _0x2fcax35
                }, _0x2fcax36
            })) : this.avatar = Object.assign({}, _0x2fcax67, {
                layers: [Object.assign({}, _0x2fcax66, {
                    image: _0x2fcax2e(this.colors.back, this.colors.back)
                }), Object.assign({}, _0x2fcax66, {
                    level: 1,
                    image: _0x2fcax2e(this.colors.main, this.colors.back)
                })]
            }), this.avatar.topLayers = this.avatar.layers.filter(function(_0x2fcax2c) {
                return 1 <= _0x2fcax2c.level
            })['sort'](function(_0x2fcax2c, _0x2fcax1f) {
                return _0x2fcax2c.level - _0x2fcax1f.level
            }), this.avatar.bottomLayers = this.avatar.layers.filter(function(_0x2fcax2c) {
                return _0x2fcax2c.level < 1
            })['sort'](function(_0x2fcax2c, _0x2fcax1f) {
                return _0x2fcax1f.level - _0x2fcax2c.level
            })
        },
        _0x2fcax6c = function() {
            function _0x2fcax2c(_0x2fcax35) {
                var _0x2fcax36 = this;
                _0x2fcax2d(this, _0x2fcax2c), this.view = _0x2fcax35, this.available = [], this.used = [];
                [0, 30, 60, 120, 175, 200, 220, 240, 260, 280, 320]['forEach'](function(_0x2fcax2c) {
                    var _0x2fcax1f = _0x2fcax46(_0x2fcax2c, 70, 100),
                        _0x2fcax2e = _0x2fcax46(_0x2fcax2c, 70, 95),
                        _0x2fcax1e = _0x2fcax46(_0x2fcax2c, 70, 80),
                        _0x2fcax34 = _0x2fcax46(_0x2fcax2c, 70, 60);
                    _0x2fcax36.available.push(new _0x2fcax6b(_0x2fcax35, {
                        colors: {
                            main: _0x2fcax2e,
                            back: _0x2fcax1e,
                            nick: _0x2fcax34,
                            particles: [_0x2fcax1f, _0x2fcax2e, _0x2fcax1e, _0x2fcax34]
                        }
                    }))
                })
            }
            return _0x2fcax2f(_0x2fcax2c, [{
                key: 'add',
                value: function(_0x2fcax2c, _0x2fcax1f) {
                    var _0x2fcax2e = this;
                    _0x2fcax2c.forEach(function(_0x2fcax2c) {
                        return _0x2fcax2e.available.push(new _0x2fcax6b(_0x2fcax2e.view, _0x2fcax2c, _0x2fcax1f))
                    })
                }
            }, {
                key: 'get',
                value: function(_0x2fcax1f, _0x2fcax2c) {
                    'default' === _0x2fcax1f && (_0x2fcax1f = '');
                    var _0x2fcax2e, _0x2fcax1e = this.available.length;
                    if (!_0x2fcax1e) {
                        throw new Error('Ð—Ð°Ð¿Ð°Ñ ÑÐºÐ¸Ð½Ð¾Ð² Ð¸ÑÑ‡ÐµÑ€Ð¿Ð°Ð½')
                    };
                    if (_0x2fcax1f) {
                        _0x2fcax2e = this.available.findIndex(function(_0x2fcax2c) {
                            return _0x2fcax2c.name === _0x2fcax1f
                        })
                    } else {
                        if (_0x2fcax2c) {
                            var _0x2fcax34 = this.available.filter(function(_0x2fcax2c) {
                                    return _0x2fcax2c.name === _0x2fcax1f
                                }),
                                _0x2fcax35 = _0x2fcax34[~~(Math.random() * _0x2fcax34.length)];
                            _0x2fcax2e = this.available.indexOf(_0x2fcax35)
                        } else {
                            _0x2fcax2e = ~~(Math.random() * _0x2fcax1e)
                        }
                    };
                    if (0 <= _0x2fcax2e) {
                        var _0x2fcax36 = this.available.splice(_0x2fcax2e, 1)[0];
                        return this.used.push(_0x2fcax36), _0x2fcax36
                    }
                }
            }, {
                key: 'release',
                value: function(_0x2fcax2c) {
                    var _0x2fcax1f = this.used.indexOf(_0x2fcax2c); - 1 !== _0x2fcax1f && this.used.splice(_0x2fcax1f, 1), this.available.push(_0x2fcax2c)
                }
            }]), _0x2fcax2c
        }(),
        _0x2fcax6d = function() {
            function _0x2fcax1f(_0x2fcax2c) {
                _0x2fcax2d(this, _0x2fcax1f), this.pool = [], this.requested = !1, this.callback = function() {
                    return _0x2fcax2c && _0x2fcax2c.prepare()
                }
            }
            return _0x2fcax2f(_0x2fcax1f, [{
                key: 'get',
                value: function() {
                    return this.pool.shift()
                }
            }, {
                key: 'request',
                value: function() {
                    var _0x2fcax1e = this;
                    if (!this.requested) {
                        this.requested = !0;
                        var _0x2fcax2c = 10 - this.pool.length;
                        $['ajax']({
                            url: 'paper2.php',
                            method: 'POST',
                            data: {
                                length: _0x2fcax2c
                            },
                            success: function(_0x2fcax2c) {
                                _0x2fcax1e.requested = !1, _0x2fcax1e.pool = _0x2fcax1e.pool.concat(_0x2fcax2c.names), _0x2fcax1e.callback && (_0x2fcax1e.callback(), _0x2fcax1e.callback = null)
                            },
                            error: function(_0x2fcax2c, _0x2fcax1f, _0x2fcax2e) {
                                _0x2fcax1e.requested = !1
                            }
                        })
                    }
                }
            }]), _0x2fcax1f
        }(),
        _0x2fcax6e = function() {
            function _0x2fcax2c() {
                _0x2fcax2d(this, _0x2fcax2c), this.mode2 = !1
            }
            return _0x2fcax2f(_0x2fcax2c, [{
                key: 'get',
                value: function() {
                    return 'undefined' != typeof Cookies && void(0) !== Cookies.get('paper2_keyboard_mode2') && (this.mode2 = 'true' === Cookies.get('paper2_keyboard_mode2')), this.mode2
                }
            }, {
                key: 'switch',
                value: function() {
                    this.mode2 = !this.mode2, 'undefined' != typeof Cookies && Cookies.set('paper2_keyboard_mode2', this.mode2)
                }
            }]), _0x2fcax2c
        }();
    if (Path2D) {
        var _0x2fcax71 = new _0x2fcax49(2e3, 2e3, 50);
        _0x2fcax47.space = _0x2fcax71;
        var _0x2fcax72 = new _0x2fcax47(1e3, 1e3),
            _0x2fcax73 = 0.95 * Math.min(_0x2fcax72.x, _0x2fcax72.y),
            _0x2fcax74 = new _0x2fcax4d(_0x2fcax45(_0x2fcax72.x, _0x2fcax72.y, 300, _0x2fcax73), _0x2fcax73),
            _0x2fcax75 = {},
            _0x2fcax76 = 0,
            _0x2fcax77 = function(_0x2fcax2c) {
                var _0x2fcax1f = _0x2fcax2c.game,
                    _0x2fcax2e = _0x2fcax2c.score,
                    _0x2fcax1e = _0x2fcax2c.best,
                    _0x2fcax34 = (_0x2fcax2c.time, _0x2fcax2c.kills, _0x2fcax2c.image, _0x2fcax2c.win);
                _0x2fcax2c.newBest = !1, _0x2fcax1e < _0x2fcax2e && ('undefined' != typeof Cookies && Cookies.set('paper3_best', _0x2fcax2e), _0x2fcax2c.newBest = !0, _0x2fcax2c.best = _0x2fcax2e), _0x2fcax34 && (_0x2fcax76 = 0, _0x2fcax75.prepare()), _0x2fcax1f.view.style.display = 'none', _0x2fcax1f.generateParticles = !1, _0x2fcax1f.actived = !1, window.paper2_results = _0x2fcax2c, window.game_is_over_main()
            },
            _0x2fcax78 = ((_0x2fcax36 = document.createElement('canvas'))['style']['display'] = 'none', _0x2fcax36.style.width = '100%', _0x2fcax36.style.height = '100%', _0x2fcax36.style.position = 'absolute', _0x2fcax36.style.top = '50%', _0x2fcax36.style.left = '50%', _0x2fcax36.style.transform = 'translate(-50%, -50%)', document.body.appendChild(_0x2fcax36), _0x2fcax36),
            _0x2fcax79 = new _0x2fcax6d(_0x2fcax75),
            _0x2fcax7a = new _0x2fcax6c(_0x2fcax78),
            _0x2fcax7b = new _0x2fcax6e;
        $['ajax']({
            url: 'skins/skins.json',
            method: 'GET',
            success: function(_0x2fcax2c) {
                _0x2fcax79.request(), _0x2fcax7a.add(_0x2fcax2c, 'skins/');
                var _0x2fcax1f, _0x2fcax35, _0x2fcax36 = new _0x2fcax64(_0x2fcax78, _0x2fcax71, _0x2fcax74, _0x2fcax7a, 10, _0x2fcax77, _0x2fcax79, _0x2fcax7b),
                    _0x2fcax2e = !1,
                    _0x2fcax1e = _0x2fcax52.spawnTimeout;
                _0x2fcax52.spawnTimeout = 0, _0x2fcax75.prepare = function() {
                    _0x2fcax1f = setInterval(function() {
                        _0x2fcax79.pool.length && (_0x2fcax36.update(1e3 / 60 * 2 + Math.random()), ++_0x2fcax76 > _0x2fcax52.prepareCounter && clearInterval(_0x2fcax1f))
                    }, 1e3 / 60)
                }, _0x2fcax75.start = function() {
                    for (_0x2fcax36.best = 'undefined' != typeof Cookies && Cookies.get('paper3_best') ? parseFloat(Cookies.get('paper3_best')) : 0, _0x2fcax36.view.style.display = 'block', _0x2fcax36.controller.keyboardModeSwitch.get(), clearInterval(_0x2fcax1f); _0x2fcax76 < _0x2fcax52.prepareCounter; _0x2fcax76++) {
                        _0x2fcax36.update(1e3 / 60 * 2 + Math.random())
                    };
                    _0x2fcax52.spawnTimeout = _0x2fcax1e;
                    _0x2fcax36.spawnPlayer('undefined' != typeof Cookies && Cookies.get('myNick'), Cookies.get('mySkin')), _0x2fcax36.generateParticles = !0, _0x2fcax36.actived = !0, _0x2fcax2e || (_0x2fcax2e = !0, _0x2fcax35 = performance.now() - 1e3 / 60, function _0x2fcax2c() {
                        var _0x2fcax1f = performance.now(),
                            _0x2fcax2e = _0x2fcax1f - _0x2fcax35;
                        !_0x2fcax36.actived && 500 < _0x2fcax2e && (_0x2fcax2e = 1e3 / 60 + Math.random());
                        for (var _0x2fcax1e = _0x2fcax2e; 0 < _0x2fcax2e;) {
                            if (2e3 / 60 < _0x2fcax2e) {
                                var _0x2fcax34 = Math.random() + 2e3 / 60;
                                _0x2fcax2e - _0x2fcax34 < 1e3 / 60 && (_0x2fcax34 = Math.random() + 25), _0x2fcax2e -= _0x2fcax34, _0x2fcax36.update(_0x2fcax34)
                            } else {
                                _0x2fcax36.update(_0x2fcax2e), _0x2fcax2e = 0
                            }
                        };
                        _0x2fcax36.actived && _0x2fcax36.render(_0x2fcax1e), _0x2fcax35 = _0x2fcax1f, requestAnimationFrame(_0x2fcax2c)
                    }())
                }, window.paper2 = _0x2fcax75
            }
        })
    } else {
        window.paper2 = {
            noSupport: !0
        }
    }
}()
